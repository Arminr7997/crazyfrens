import{c as Le,e as Zr,g as Fo,s as $o,a as Xr}from"./index.0368eb94.js";import{b as Ho}from"./index.85d68862.js";var ei={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(_,b,m){this.fn=_,this.context=b,this.once=m||!1}function s(_,b,m,C,A){if(typeof m!="function")throw new TypeError("The listener must be a function");var I=new a(m,C||_,A),R=n?n+b:b;return _._events[R]?_._events[R].fn?_._events[R]=[_._events[R],I]:_._events[R].push(I):(_._events[R]=I,_._eventsCount++),_}function d(_,b){--_._eventsCount===0?_._events=new r:delete _._events[b]}function g(){this._events=new r,this._eventsCount=0}g.prototype.eventNames=function(){var b=[],m,C;if(this._eventsCount===0)return b;for(C in m=this._events)e.call(m,C)&&b.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(m)):b},g.prototype.listeners=function(b){var m=n?n+b:b,C=this._events[m];if(!C)return[];if(C.fn)return[C.fn];for(var A=0,I=C.length,R=new Array(I);A<I;A++)R[A]=C[A].fn;return R},g.prototype.listenerCount=function(b){var m=n?n+b:b,C=this._events[m];return C?C.fn?1:C.length:0},g.prototype.emit=function(b,m,C,A,I,R){var N=n?n+b:b;if(!this._events[N])return!1;var v=this._events[N],E=arguments.length,k,M;if(v.fn){switch(v.once&&this.removeListener(b,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,C),!0;case 4:return v.fn.call(v.context,m,C,A),!0;case 5:return v.fn.call(v.context,m,C,A,I),!0;case 6:return v.fn.call(v.context,m,C,A,I,R),!0}for(M=1,k=new Array(E-1);M<E;M++)k[M-1]=arguments[M];v.fn.apply(v.context,k)}else{var T=v.length,L;for(M=0;M<T;M++)switch(v[M].once&&this.removeListener(b,v[M].fn,void 0,!0),E){case 1:v[M].fn.call(v[M].context);break;case 2:v[M].fn.call(v[M].context,m);break;case 3:v[M].fn.call(v[M].context,m,C);break;case 4:v[M].fn.call(v[M].context,m,C,A);break;default:if(!k)for(L=1,k=new Array(E-1);L<E;L++)k[L-1]=arguments[L];v[M].fn.apply(v[M].context,k)}}return!0},g.prototype.on=function(b,m,C){return s(this,b,m,C,!1)},g.prototype.once=function(b,m,C){return s(this,b,m,C,!0)},g.prototype.removeListener=function(b,m,C,A){var I=n?n+b:b;if(!this._events[I])return this;if(!m)return d(this,I),this;var R=this._events[I];if(R.fn)R.fn===m&&(!A||R.once)&&(!C||R.context===C)&&d(this,I);else{for(var N=0,v=[],E=R.length;N<E;N++)(R[N].fn!==m||A&&!R[N].once||C&&R[N].context!==C)&&v.push(R[N]);v.length?this._events[I]=v.length===1?v[0]:v:d(this,I)}return this},g.prototype.removeAllListeners=function(b){var m;return b?(m=n?n+b:b,this._events[m]&&d(this,m)):(this._events=new r,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=n,g.EventEmitter=g,t.exports=g})(ei);var Wo=ei.exports;const zo="PARSE_ERROR",jo="INVALID_REQUEST",Jo="METHOD_NOT_FOUND",Vo="INVALID_PARAMS",kt="INTERNAL_ERROR",ti="SERVER_ERROR",Ko=[-32700,-32600,-32601,-32602,-32603],ft={[zo]:{code:-32700,message:"Parse error"},[jo]:{code:-32600,message:"Invalid Request"},[Jo]:{code:-32601,message:"Method not found"},[Vo]:{code:-32602,message:"Invalid params"},[kt]:{code:-32603,message:"Internal error"},[ti]:{code:-32e3,message:"Server error"}};function Qo(t){return Ko.includes(t)}function mr(t){return Object.keys(ft).includes(t)?ft[t]:ft[kt]}function Yo(t){const e=Object.values(ft).find(n=>n.code===t);return e||ft[kt]}function Go(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var ot={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.isBrowserCryptoAvailable=Fe.getSubtleCrypto=Fe.getBrowerCrypto=void 0;function On(){return(Le===null||Le===void 0?void 0:Le.crypto)||(Le===null||Le===void 0?void 0:Le.msCrypto)||{}}Fe.getBrowerCrypto=On;function ni(){const t=On();return t.subtle||t.webkitSubtle}Fe.getSubtleCrypto=ni;function Zo(){return!!On()&&!!ni()}Fe.isBrowserCryptoAvailable=Zo;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.isBrowser=$e.isNode=$e.isReactNative=void 0;function ri(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}$e.isReactNative=ri;function ii(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}$e.isNode=ii;function Xo(){return!ri()&&!ii()}$e.isBrowser=Xo;(function(t){var e=Le&&Le.__createBinding||(Object.create?function(r,a,s,d){d===void 0&&(d=s),Object.defineProperty(r,d,{enumerable:!0,get:function(){return a[s]}})}:function(r,a,s,d){d===void 0&&(d=s),r[d]=a[s]}),n=Le&&Le.__exportStar||function(r,a){for(var s in r)s!=="default"&&!a.hasOwnProperty(s)&&e(a,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Fe,t),n($e,t)})(ot);function oi(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function es(t,e,n){return{id:n||oi(),jsonrpc:"2.0",method:t,params:e}}function vn(t,e){return{id:t,jsonrpc:"2.0",error:ts(e)}}function ts(t){return typeof t=="undefined"?mr(kt):(typeof t=="string"&&(t=Object.assign(Object.assign({},mr(ti)),{message:t})),Qo(t.code)&&(t=Yo(t.code)),t)}class si{}class ns extends si{constructor(e){super()}}class rs extends si{constructor(){super()}}class is extends rs{constructor(e){super()}}const os="^https?:";function ss(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function as(t,e){const n=ss(t);return typeof n=="undefined"?!1:new RegExp(e).test(n)}function _r(t){return as(t,os)}function cs(t){return"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function ls(t){return cs(t)&&(fs(t)||ai(t))}function fs(t){return"result"in t}function ai(t){return"error"in t}class yr extends is{constructor(e){super(e),this.events=new Zr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(es(e.method,e.params||[]),n)}async requestStrict(e,n){return new Promise(async(r,a)=>{if(!this.connection.connected)try{await this.open()}catch(s){a(s)}this.events.on(`${e.id}`,s=>{ai(s)?a(s.error.message):r(s.result)});try{await this.connection.send(e,n)}catch(s){a(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ls(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}var mn={exports:{}};(function(t,e){var n=typeof self!="undefined"?self:Le,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(d){var g={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function _(l){return l&&DataView.prototype.isPrototypeOf(l)}if(g.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(l){return l&&b.indexOf(Object.prototype.toString.call(l))>-1};function C(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(l))throw new TypeError("Invalid character in header field name");return l.toLowerCase()}function A(l){return typeof l!="string"&&(l=String(l)),l}function I(l){var h={next:function(){var y=l.shift();return{done:y===void 0,value:y}}};return g.iterable&&(h[Symbol.iterator]=function(){return h}),h}function R(l){this.map={},l instanceof R?l.forEach(function(h,y){this.append(y,h)},this):Array.isArray(l)?l.forEach(function(h){this.append(h[0],h[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(h){this.append(h,l[h])},this)}R.prototype.append=function(l,h){l=C(l),h=A(h);var y=this.map[l];this.map[l]=y?y+", "+h:h},R.prototype.delete=function(l){delete this.map[C(l)]},R.prototype.get=function(l){return l=C(l),this.has(l)?this.map[l]:null},R.prototype.has=function(l){return this.map.hasOwnProperty(C(l))},R.prototype.set=function(l,h){this.map[C(l)]=A(h)},R.prototype.forEach=function(l,h){for(var y in this.map)this.map.hasOwnProperty(y)&&l.call(h,this.map[y],y,this)},R.prototype.keys=function(){var l=[];return this.forEach(function(h,y){l.push(y)}),I(l)},R.prototype.values=function(){var l=[];return this.forEach(function(h){l.push(h)}),I(l)},R.prototype.entries=function(){var l=[];return this.forEach(function(h,y){l.push([y,h])}),I(l)},g.iterable&&(R.prototype[Symbol.iterator]=R.prototype.entries);function N(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function v(l){return new Promise(function(h,y){l.onload=function(){h(l.result)},l.onerror=function(){y(l.error)}})}function E(l){var h=new FileReader,y=v(h);return h.readAsArrayBuffer(l),y}function k(l){var h=new FileReader,y=v(h);return h.readAsText(l),y}function M(l){for(var h=new Uint8Array(l),y=new Array(h.length),x=0;x<h.length;x++)y[x]=String.fromCharCode(h[x]);return y.join("")}function T(l){if(l.slice)return l.slice(0);var h=new Uint8Array(l.byteLength);return h.set(new Uint8Array(l)),h.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(l){this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:g.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:g.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:g.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():g.arrayBuffer&&g.blob&&_(l)?(this._bodyArrayBuffer=T(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):g.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||m(l))?this._bodyArrayBuffer=T(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var l=N(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?N(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var l=N(this);if(l)return l;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(J)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(l){var h=l.toUpperCase();return D.indexOf(h)>-1?h:l}function q(l,h){h=h||{};var y=h.body;if(l instanceof q){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,h.headers||(this.headers=new R(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!y&&l._bodyInit!=null&&(y=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new R(h.headers)),this.method=F(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(y)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function J(l){var h=new FormData;return l.trim().split("&").forEach(function(y){if(y){var x=y.split("="),p=x.shift().replace(/\+/g," "),i=x.join("=").replace(/\+/g," ");h.append(decodeURIComponent(p),decodeURIComponent(i))}}),h}function w(l){var h=new R,y=l.replace(/\r?\n[\t ]+/g," ");return y.split(/\r?\n/).forEach(function(x){var p=x.split(":"),i=p.shift().trim();if(i){var f=p.join(":").trim();h.append(i,f)}}),h}L.call(q.prototype);function o(l,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new R(h.headers),this.url=h.url||"",this._initBody(l)}L.call(o.prototype),o.prototype.clone=function(){return new o(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},o.error=function(){var l=new o(null,{status:0,statusText:""});return l.type="error",l};var c=[301,302,303,307,308];o.redirect=function(l,h){if(c.indexOf(h)===-1)throw new RangeError("Invalid status code");return new o(null,{status:h,headers:{location:l}})},d.DOMException=s.DOMException;try{new d.DOMException}catch{d.DOMException=function(h,y){this.message=h,this.name=y;var x=Error(h);this.stack=x.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function u(l,h){return new Promise(function(y,x){var p=new q(l,h);if(p.signal&&p.signal.aborted)return x(new d.DOMException("Aborted","AbortError"));var i=new XMLHttpRequest;function f(){i.abort()}i.onload=function(){var S={status:i.status,statusText:i.statusText,headers:w(i.getAllResponseHeaders()||"")};S.url="responseURL"in i?i.responseURL:S.headers.get("X-Request-URL");var O="response"in i?i.response:i.responseText;y(new o(O,S))},i.onerror=function(){x(new TypeError("Network request failed"))},i.ontimeout=function(){x(new TypeError("Network request failed"))},i.onabort=function(){x(new d.DOMException("Aborted","AbortError"))},i.open(p.method,p.url,!0),p.credentials==="include"?i.withCredentials=!0:p.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&g.blob&&(i.responseType="blob"),p.headers.forEach(function(S,O){i.setRequestHeader(O,S)}),p.signal&&(p.signal.addEventListener("abort",f),i.onreadystatechange=function(){i.readyState===4&&p.signal.removeEventListener("abort",f)}),i.send(typeof p._bodyInit=="undefined"?null:p._bodyInit)})}return u.polyfill=!0,s.fetch||(s.fetch=u,s.Headers=R,s.Request=q,s.Response=o),d.Headers=R,d.Request=q,d.Response=o,d.fetch=u,Object.defineProperty(d,"__esModule",{value:!0}),d})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=r;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(mn,mn.exports);var wr=Fo(mn.exports);function ci(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function _n(t){return typeof t=="string"?t:JSON.stringify(t)}const us={Accept:"application/json","Content-Type":"application/json"},hs="POST",br={headers:us,method:hs};class ds{constructor(e){if(this.url=e,this.events=new Zr.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!_r(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,n){this.isAvailable||await this.register();try{const r=_n(e),s=await(await wr(this.url,Object.assign(Object.assign({},br),{body:r}))).json();this.onPayload({data:s})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!_r(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise((n,r)=>{this.events.once("register_error",a=>{r(a)}),this.events.once("open",()=>{if(typeof this.isAvailable=="undefined")return r(new Error("HTTP connection is missing or invalid"));n()})});this.url=e,this.registering=!0;try{const n=_n({id:1,jsonrpc:"2.0",method:"test",params:[]});await wr(e,Object.assign(Object.assign({},br),{body:n})),this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data=="undefined")return;const n=typeof e.data=="string"?ci(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),a=r.message||r.toString(),s=vn(e,a);this.events.emit("payload",s)}parseError(e,n=this.url){return Go(e,n,"HTTP")}}var Nn={},V={};Object.defineProperty(V,"__esModule",{value:!0});var li=V.getLocalStorage=wi=V.getLocalStorageOrThrow=yi=V.getCrypto=_i=V.getCryptoOrThrow=mi=V.getLocation=vi=V.getLocationOrThrow=gi=V.getNavigator=pi=V.getNavigatorOrThrow=di=V.getDocument=hi=V.getDocumentOrThrow=ui=V.getFromWindowOrThrow=fi=V.getFromWindow=void 0;function Ke(t){let e;return typeof window!="undefined"&&typeof window[t]!="undefined"&&(e=window[t]),e}var fi=V.getFromWindow=Ke;function st(t){const e=Ke(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var ui=V.getFromWindowOrThrow=st;function ps(){return st("document")}var hi=V.getDocumentOrThrow=ps;function gs(){return Ke("document")}var di=V.getDocument=gs;function vs(){return st("navigator")}var pi=V.getNavigatorOrThrow=vs;function ms(){return Ke("navigator")}var gi=V.getNavigator=ms;function _s(){return st("location")}var vi=V.getLocationOrThrow=_s;function ys(){return Ke("location")}var mi=V.getLocation=ys;function ws(){return st("crypto")}var _i=V.getCryptoOrThrow=ws;function bs(){return Ke("crypto")}var yi=V.getCrypto=bs;function Ms(){return st("localStorage")}var wi=V.getLocalStorageOrThrow=Ms;function Es(){return Ke("localStorage")}li=V.getLocalStorage=Es;Object.defineProperty(Nn,"__esModule",{value:!0});var bi=Nn.getWindowMetadata=void 0;const Mr=V;function xs(){let t,e;try{t=Mr.getDocumentOrThrow(),e=Mr.getLocationOrThrow()}catch{return null}function n(){const C=t.getElementsByTagName("link"),A=[];for(let I=0;I<C.length;I++){const R=C[I],N=R.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const v=R.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let E=e.protocol+"//"+e.host;if(v.indexOf("/")===0)E+=v;else{const k=e.pathname.split("/");k.pop(),E+=k.join("/")+"/"+v}A.push(E)}else if(v.indexOf("//")===0){const E=e.protocol+v;A.push(E)}else A.push(v)}}return A}function r(...C){const A=t.getElementsByTagName("meta");for(let I=0;I<A.length;I++){const R=A[I],N=["itemprop","property","name"].map(v=>R.getAttribute(v)).filter(v=>v?C.includes(v):!1);if(N.length&&N){const v=R.getAttribute("content");if(v)return v}}return""}function a(){let C=r("name","og:site_name","og:title","twitter:title");return C||(C=t.title),C}function s(){return r("description","og:description","twitter:description","keywords")}const d=a(),g=s(),_=e.origin,b=n();return{description:g,url:_,icons:b,name:d}}bi=Nn.getWindowMetadata=xs;var Ss=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var s=arguments[e],d=0,g=s.length;d<g;d++,a++)r[a]=s[d];return r},Cs=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Rs=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),ks=function(){function t(e,n,r,a){this.name=e,this.version=n,this.os=r,this.bot=a,this.type="bot-device"}return t}(),Ts=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),As=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Is=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Os=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Er=3,Ns=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",Is]],xr=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Bs(t){return t?Sr(t):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new As:typeof navigator!="undefined"?Sr(navigator.userAgent):Us()}function Ls(t){return t!==""&&Ns.reduce(function(e,n){var r=n[0],a=n[1];if(e)return e;var s=a.exec(t);return!!s&&[r,s]},!1)}function Sr(t){var e=Ls(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Ts;var a=r[1]&&r[1].split(/[._]/).slice(0,3);a?a.length<Er&&(a=Ss(a,Ds(Er-a.length))):a=[];var s=a.join("."),d=Ps(t),g=Os.exec(t);return g&&g[1]?new ks(n,s,d,g[1]):new Cs(n,s,d)}function Ps(t){for(var e=0,n=xr.length;e<n;e++){var r=xr[e],a=r[0],s=r[1],d=s.exec(t);if(d)return a}return null}function Us(){var t=typeof process!="undefined"&&process.version;return t?new Rs(process.version.slice(1)):null}function Ds(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}function Tt(t){return Bs(t)}function At(){const t=Tt();return t&&t.os?t.os:void 0}function Mi(){const t=At();return t?t.toLowerCase().includes("android"):!1}function Ei(){const t=At();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function xi(){return At()?Mi()||Ei():!1}function Si(){const t=Tt();return t&&t.name?t.name.toLowerCase()==="node":!1}function Ci(){return!Si()&&!!Ri()}const qs=fi,Fs=ui,$s=hi,Hs=di,Ws=pi,Ri=gi,zs=vi,ki=mi,js=_i,Js=yi,Vs=wi,It=li;function yn(){return bi()}const Ti=ci,Ai=_n;function Bn(t,e){const n=Ai(e),r=It();r&&r.setItem(t,n)}function Ln(t){let e=null,n=null;const r=It();return r&&(n=r.getItem(t)),e=n&&Ti(n),e}function Pn(t){const e=It();e&&e.removeItem(t)}const Mt="WALLETCONNECT_DEEPLINK_CHOICE";function Ks(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}function Qs(t){const e=t.href.split("?")[0];Bn(Mt,Object.assign(Object.assign({},t),{href:e}))}function Ii(t,e){return t.filter(n=>n.name.toLowerCase().includes(e.toLowerCase()))[0]}function Ys(t,e){let n=t;return e&&(n=e.map(r=>Ii(t,r)).filter(Boolean)),n}const Oi="https://registry.walletconnect.com";function Gs(){return Oi+"/api/v2/wallets"}function Zs(){return Oi+"/api/v2/dapps"}function Ni(t,e="mobile"){var n;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(n=t.image_url.sm)!==null&&n!==void 0?n:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function Xs(t,e="mobile"){return Object.values(t).filter(n=>!!n[e].universal||!!n[e].native).map(n=>Ni(n,e))}var ea=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Tt,detectOS:At,isAndroid:Mi,isIOS:Ei,isMobile:xi,isNode:Si,isBrowser:Ci,getFromWindow:qs,getFromWindowOrThrow:Fs,getDocumentOrThrow:$s,getDocument:Hs,getNavigatorOrThrow:Ws,getNavigator:Ri,getLocationOrThrow:zs,getLocation:ki,getCryptoOrThrow:js,getCrypto:Js,getLocalStorageOrThrow:Vs,getLocalStorage:It,getClientMeta:yn,safeJsonParse:Ti,safeJsonStringify:Ai,setLocal:Bn,getLocal:Ln,removeLocal:Pn,mobileLinkChoiceKey:Mt,formatIOSMobile:Ks,saveMobileLinkInfo:Qs,getMobileRegistryEntry:Ii,getMobileLinkRegistry:Ys,getWalletRegistryUrl:Gs,getDappRegistryUrl:Zs,formatMobileRegistryEntry:Ni,formatMobileRegistry:Xs},Symbol.toStringTag,{value:"Module"}));const ta=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Un=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],na={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Bi={exports:{}};(function(t){(function(e,n){function r(w,o){if(!w)throw new Error(o||"Assertion failed")}function a(w,o){w.super_=o;var c=function(){};c.prototype=o.prototype,w.prototype=new c,w.prototype.constructor=w}function s(w,o,c){if(s.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((o==="le"||o==="be")&&(c=o,o=10),this._init(w||0,o||10,c||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var d;try{d=require("buffer").Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,c){return o.cmp(c)>0?o:c},s.min=function(o,c){return o.cmp(c)<0?o:c},s.prototype._init=function(o,c,u){if(typeof o=="number")return this._initNumber(o,c,u);if(typeof o=="object")return this._initArray(o,c,u);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&l++,c===16?this._parseHex(o,l):this._parseBase(o,c,l),o[0]==="-"&&(this.negative=1),this.strip(),u==="le"&&this._initArray(this.toArray(),c,u)},s.prototype._initNumber=function(o,c,u){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),c,u)},s.prototype._initArray=function(o,c,u){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var h,y,x=0;if(u==="be")for(l=o.length-1,h=0;l>=0;l-=3)y=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[h]|=y<<x&67108863,this.words[h+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,h++);else if(u==="le")for(l=0,h=0;l<o.length;l+=3)y=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[h]|=y<<x&67108863,this.words[h+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,h++);return this.strip()};function g(w,o,c){for(var u=0,l=Math.min(w.length,c),h=o;h<l;h++){var y=w.charCodeAt(h)-48;u<<=4,y>=49&&y<=54?u|=y-49+10:y>=17&&y<=22?u|=y-17+10:u|=y&15}return u}s.prototype._parseHex=function(o,c){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var l,h,y=0;for(u=o.length-6,l=0;u>=c;u-=6)h=g(o,u,u+6),this.words[l]|=h<<y&67108863,this.words[l+1]|=h>>>26-y&4194303,y+=24,y>=26&&(y-=26,l++);u+6!==c&&(h=g(o,c,u+6),this.words[l]|=h<<y&67108863,this.words[l+1]|=h>>>26-y&4194303),this.strip()};function _(w,o,c,u){for(var l=0,h=Math.min(w.length,c),y=o;y<h;y++){var x=w.charCodeAt(y)-48;l*=u,x>=49?l+=x-49+10:x>=17?l+=x-17+10:l+=x}return l}s.prototype._parseBase=function(o,c,u){this.words=[0],this.length=1;for(var l=0,h=1;h<=67108863;h*=c)l++;l--,h=h/c|0;for(var y=o.length-u,x=y%l,p=Math.min(y,y-x)+u,i=0,f=u;f<p;f+=l)i=_(o,f,f+l,c),this.imuln(h),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i);if(x!==0){var S=1;for(i=_(o,f,o.length,c),f=0;f<x;f++)S*=c;this.imuln(S),this.words[0]+i<67108864?this.words[0]+=i:this._iaddn(i)}},s.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,c){o=o||10,c=c|0||1;var u;if(o===16||o==="hex"){u="";for(var l=0,h=0,y=0;y<this.length;y++){var x=this.words[y],p=((x<<l|h)&16777215).toString(16);h=x>>>24-l&16777215,h!==0||y!==this.length-1?u=b[6-p.length]+p+u:u=p+u,l+=2,l>=26&&(l-=26,y--)}for(h!==0&&(u=h.toString(16)+u);u.length%c!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(o===(o|0)&&o>=2&&o<=36){var i=m[o],f=C[o];u="";var S=this.clone();for(S.negative=0;!S.isZero();){var O=S.modn(f).toString(o);S=S.idivn(f),S.isZero()?u=O+u:u=b[i-O.length]+O+u}for(this.isZero()&&(u="0"+u);u.length%c!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(o,c){return r(typeof d!="undefined"),this.toArrayLike(d,o,c)},s.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},s.prototype.toArrayLike=function(o,c,u){var l=this.byteLength(),h=u||Math.max(1,l);r(l<=h,"byte array longer than desired length"),r(h>0,"Requested array length <= 0"),this.strip();var y=c==="le",x=new o(h),p,i,f=this.clone();if(y){for(i=0;!f.isZero();i++)p=f.andln(255),f.iushrn(8),x[i]=p;for(;i<h;i++)x[i]=0}else{for(i=0;i<h-l;i++)x[i]=0;for(i=0;!f.isZero();i++)p=f.andln(255),f.iushrn(8),x[h-i-1]=p}return x},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var c=o,u=0;return c>=4096&&(u+=13,c>>>=13),c>=64&&(u+=7,c>>>=7),c>=8&&(u+=4,c>>>=4),c>=2&&(u+=2,c>>>=2),u+c},s.prototype._zeroBits=function(o){if(o===0)return 26;var c=o,u=0;return(c&8191)===0&&(u+=13,c>>>=13),(c&127)===0&&(u+=7,c>>>=7),(c&15)===0&&(u+=4,c>>>=4),(c&3)===0&&(u+=2,c>>>=2),(c&1)===0&&u++,u},s.prototype.bitLength=function(){var o=this.words[this.length-1],c=this._countBits(o);return(this.length-1)*26+c};function A(w){for(var o=new Array(w.bitLength()),c=0;c<o.length;c++){var u=c/26|0,l=c%26;o[c]=(w.words[u]&1<<l)>>>l}return o}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var u=this._zeroBits(this.words[c]);if(o+=u,u!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},s.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var c;this.length>o.length?c=o:c=this;for(var u=0;u<c.length;u++)this.words[u]=this.words[u]&o.words[u];return this.length=c.length,this.strip()},s.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var c,u;this.length>o.length?(c=this,u=o):(c=o,u=this);for(var l=0;l<u.length;l++)this.words[l]=c.words[l]^u.words[l];if(this!==c)for(;l<c.length;l++)this.words[l]=c.words[l];return this.length=c.length,this.strip()},s.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var c=Math.ceil(o/26)|0,u=o%26;this._expand(c),u>0&&c--;for(var l=0;l<c;l++)this.words[l]=~this.words[l]&67108863;return u>0&&(this.words[l]=~this.words[l]&67108863>>26-u),this.strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,c){r(typeof o=="number"&&o>=0);var u=o/26|0,l=o%26;return this._expand(u+1),c?this.words[u]=this.words[u]|1<<l:this.words[u]=this.words[u]&~(1<<l),this.strip()},s.prototype.iadd=function(o){var c;if(this.negative!==0&&o.negative===0)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();var u,l;this.length>o.length?(u=this,l=o):(u=o,l=this);for(var h=0,y=0;y<l.length;y++)c=(u.words[y]|0)+(l.words[y]|0)+h,this.words[y]=c&67108863,h=c>>>26;for(;h!==0&&y<u.length;y++)c=(u.words[y]|0)+h,this.words[y]=c&67108863,h=c>>>26;if(this.length=u.length,h!==0)this.words[this.length]=h,this.length++;else if(u!==this)for(;y<u.length;y++)this.words[y]=u.words[y];return this},s.prototype.add=function(o){var c;return o.negative!==0&&this.negative===0?(o.negative=0,c=this.sub(o),o.negative^=1,c):o.negative===0&&this.negative!==0?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var u=this.cmp(o);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,h;u>0?(l=this,h=o):(l=o,h=this);for(var y=0,x=0;x<h.length;x++)c=(l.words[x]|0)-(h.words[x]|0)+y,y=c>>26,this.words[x]=c&67108863;for(;y!==0&&x<l.length;x++)c=(l.words[x]|0)+y,y=c>>26,this.words[x]=c&67108863;if(y===0&&x<l.length&&l!==this)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=Math.max(this.length,x),l!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function I(w,o,c){c.negative=o.negative^w.negative;var u=w.length+o.length|0;c.length=u,u=u-1|0;var l=w.words[0]|0,h=o.words[0]|0,y=l*h,x=y&67108863,p=y/67108864|0;c.words[0]=x;for(var i=1;i<u;i++){for(var f=p>>>26,S=p&67108863,O=Math.min(i,o.length-1),B=Math.max(0,i-w.length+1);B<=O;B++){var U=i-B|0;l=w.words[U]|0,h=o.words[B]|0,y=l*h+S,f+=y/67108864|0,S=y&67108863}c.words[i]=S|0,p=f|0}return p!==0?c.words[i]=p|0:c.length--,c.strip()}var R=function(o,c,u){var l=o.words,h=c.words,y=u.words,x=0,p,i,f,S=l[0]|0,O=S&8191,B=S>>>13,U=l[1]|0,$=U&8191,z=U>>>13,K=l[2]|0,H=K&8191,j=K>>>13,ct=l[3]|0,Y=ct&8191,G=ct>>>13,tr=l[4]|0,Z=tr&8191,X=tr>>>13,nr=l[5]|0,ee=nr&8191,te=nr>>>13,rr=l[6]|0,ne=rr&8191,re=rr>>>13,ir=l[7]|0,ie=ir&8191,oe=ir>>>13,or=l[8]|0,se=or&8191,ae=or>>>13,sr=l[9]|0,ce=sr&8191,le=sr>>>13,ar=h[0]|0,fe=ar&8191,ue=ar>>>13,cr=h[1]|0,he=cr&8191,de=cr>>>13,lr=h[2]|0,pe=lr&8191,ge=lr>>>13,fr=h[3]|0,ve=fr&8191,me=fr>>>13,ur=h[4]|0,_e=ur&8191,ye=ur>>>13,hr=h[5]|0,we=hr&8191,be=hr>>>13,dr=h[6]|0,Me=dr&8191,Ee=dr>>>13,pr=h[7]|0,xe=pr&8191,Se=pr>>>13,gr=h[8]|0,Ce=gr&8191,Re=gr>>>13,vr=h[9]|0,ke=vr&8191,Te=vr>>>13;u.negative=o.negative^c.negative,u.length=19,p=Math.imul(O,fe),i=Math.imul(O,ue),i=i+Math.imul(B,fe)|0,f=Math.imul(B,ue);var Ft=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,p=Math.imul($,fe),i=Math.imul($,ue),i=i+Math.imul(z,fe)|0,f=Math.imul(z,ue),p=p+Math.imul(O,he)|0,i=i+Math.imul(O,de)|0,i=i+Math.imul(B,he)|0,f=f+Math.imul(B,de)|0;var $t=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+($t>>>26)|0,$t&=67108863,p=Math.imul(H,fe),i=Math.imul(H,ue),i=i+Math.imul(j,fe)|0,f=Math.imul(j,ue),p=p+Math.imul($,he)|0,i=i+Math.imul($,de)|0,i=i+Math.imul(z,he)|0,f=f+Math.imul(z,de)|0,p=p+Math.imul(O,pe)|0,i=i+Math.imul(O,ge)|0,i=i+Math.imul(B,pe)|0,f=f+Math.imul(B,ge)|0;var Ht=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,p=Math.imul(Y,fe),i=Math.imul(Y,ue),i=i+Math.imul(G,fe)|0,f=Math.imul(G,ue),p=p+Math.imul(H,he)|0,i=i+Math.imul(H,de)|0,i=i+Math.imul(j,he)|0,f=f+Math.imul(j,de)|0,p=p+Math.imul($,pe)|0,i=i+Math.imul($,ge)|0,i=i+Math.imul(z,pe)|0,f=f+Math.imul(z,ge)|0,p=p+Math.imul(O,ve)|0,i=i+Math.imul(O,me)|0,i=i+Math.imul(B,ve)|0,f=f+Math.imul(B,me)|0;var Wt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,p=Math.imul(Z,fe),i=Math.imul(Z,ue),i=i+Math.imul(X,fe)|0,f=Math.imul(X,ue),p=p+Math.imul(Y,he)|0,i=i+Math.imul(Y,de)|0,i=i+Math.imul(G,he)|0,f=f+Math.imul(G,de)|0,p=p+Math.imul(H,pe)|0,i=i+Math.imul(H,ge)|0,i=i+Math.imul(j,pe)|0,f=f+Math.imul(j,ge)|0,p=p+Math.imul($,ve)|0,i=i+Math.imul($,me)|0,i=i+Math.imul(z,ve)|0,f=f+Math.imul(z,me)|0,p=p+Math.imul(O,_e)|0,i=i+Math.imul(O,ye)|0,i=i+Math.imul(B,_e)|0,f=f+Math.imul(B,ye)|0;var zt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(zt>>>26)|0,zt&=67108863,p=Math.imul(ee,fe),i=Math.imul(ee,ue),i=i+Math.imul(te,fe)|0,f=Math.imul(te,ue),p=p+Math.imul(Z,he)|0,i=i+Math.imul(Z,de)|0,i=i+Math.imul(X,he)|0,f=f+Math.imul(X,de)|0,p=p+Math.imul(Y,pe)|0,i=i+Math.imul(Y,ge)|0,i=i+Math.imul(G,pe)|0,f=f+Math.imul(G,ge)|0,p=p+Math.imul(H,ve)|0,i=i+Math.imul(H,me)|0,i=i+Math.imul(j,ve)|0,f=f+Math.imul(j,me)|0,p=p+Math.imul($,_e)|0,i=i+Math.imul($,ye)|0,i=i+Math.imul(z,_e)|0,f=f+Math.imul(z,ye)|0,p=p+Math.imul(O,we)|0,i=i+Math.imul(O,be)|0,i=i+Math.imul(B,we)|0,f=f+Math.imul(B,be)|0;var jt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,p=Math.imul(ne,fe),i=Math.imul(ne,ue),i=i+Math.imul(re,fe)|0,f=Math.imul(re,ue),p=p+Math.imul(ee,he)|0,i=i+Math.imul(ee,de)|0,i=i+Math.imul(te,he)|0,f=f+Math.imul(te,de)|0,p=p+Math.imul(Z,pe)|0,i=i+Math.imul(Z,ge)|0,i=i+Math.imul(X,pe)|0,f=f+Math.imul(X,ge)|0,p=p+Math.imul(Y,ve)|0,i=i+Math.imul(Y,me)|0,i=i+Math.imul(G,ve)|0,f=f+Math.imul(G,me)|0,p=p+Math.imul(H,_e)|0,i=i+Math.imul(H,ye)|0,i=i+Math.imul(j,_e)|0,f=f+Math.imul(j,ye)|0,p=p+Math.imul($,we)|0,i=i+Math.imul($,be)|0,i=i+Math.imul(z,we)|0,f=f+Math.imul(z,be)|0,p=p+Math.imul(O,Me)|0,i=i+Math.imul(O,Ee)|0,i=i+Math.imul(B,Me)|0,f=f+Math.imul(B,Ee)|0;var Jt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,p=Math.imul(ie,fe),i=Math.imul(ie,ue),i=i+Math.imul(oe,fe)|0,f=Math.imul(oe,ue),p=p+Math.imul(ne,he)|0,i=i+Math.imul(ne,de)|0,i=i+Math.imul(re,he)|0,f=f+Math.imul(re,de)|0,p=p+Math.imul(ee,pe)|0,i=i+Math.imul(ee,ge)|0,i=i+Math.imul(te,pe)|0,f=f+Math.imul(te,ge)|0,p=p+Math.imul(Z,ve)|0,i=i+Math.imul(Z,me)|0,i=i+Math.imul(X,ve)|0,f=f+Math.imul(X,me)|0,p=p+Math.imul(Y,_e)|0,i=i+Math.imul(Y,ye)|0,i=i+Math.imul(G,_e)|0,f=f+Math.imul(G,ye)|0,p=p+Math.imul(H,we)|0,i=i+Math.imul(H,be)|0,i=i+Math.imul(j,we)|0,f=f+Math.imul(j,be)|0,p=p+Math.imul($,Me)|0,i=i+Math.imul($,Ee)|0,i=i+Math.imul(z,Me)|0,f=f+Math.imul(z,Ee)|0,p=p+Math.imul(O,xe)|0,i=i+Math.imul(O,Se)|0,i=i+Math.imul(B,xe)|0,f=f+Math.imul(B,Se)|0;var Vt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,p=Math.imul(se,fe),i=Math.imul(se,ue),i=i+Math.imul(ae,fe)|0,f=Math.imul(ae,ue),p=p+Math.imul(ie,he)|0,i=i+Math.imul(ie,de)|0,i=i+Math.imul(oe,he)|0,f=f+Math.imul(oe,de)|0,p=p+Math.imul(ne,pe)|0,i=i+Math.imul(ne,ge)|0,i=i+Math.imul(re,pe)|0,f=f+Math.imul(re,ge)|0,p=p+Math.imul(ee,ve)|0,i=i+Math.imul(ee,me)|0,i=i+Math.imul(te,ve)|0,f=f+Math.imul(te,me)|0,p=p+Math.imul(Z,_e)|0,i=i+Math.imul(Z,ye)|0,i=i+Math.imul(X,_e)|0,f=f+Math.imul(X,ye)|0,p=p+Math.imul(Y,we)|0,i=i+Math.imul(Y,be)|0,i=i+Math.imul(G,we)|0,f=f+Math.imul(G,be)|0,p=p+Math.imul(H,Me)|0,i=i+Math.imul(H,Ee)|0,i=i+Math.imul(j,Me)|0,f=f+Math.imul(j,Ee)|0,p=p+Math.imul($,xe)|0,i=i+Math.imul($,Se)|0,i=i+Math.imul(z,xe)|0,f=f+Math.imul(z,Se)|0,p=p+Math.imul(O,Ce)|0,i=i+Math.imul(O,Re)|0,i=i+Math.imul(B,Ce)|0,f=f+Math.imul(B,Re)|0;var Kt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,p=Math.imul(ce,fe),i=Math.imul(ce,ue),i=i+Math.imul(le,fe)|0,f=Math.imul(le,ue),p=p+Math.imul(se,he)|0,i=i+Math.imul(se,de)|0,i=i+Math.imul(ae,he)|0,f=f+Math.imul(ae,de)|0,p=p+Math.imul(ie,pe)|0,i=i+Math.imul(ie,ge)|0,i=i+Math.imul(oe,pe)|0,f=f+Math.imul(oe,ge)|0,p=p+Math.imul(ne,ve)|0,i=i+Math.imul(ne,me)|0,i=i+Math.imul(re,ve)|0,f=f+Math.imul(re,me)|0,p=p+Math.imul(ee,_e)|0,i=i+Math.imul(ee,ye)|0,i=i+Math.imul(te,_e)|0,f=f+Math.imul(te,ye)|0,p=p+Math.imul(Z,we)|0,i=i+Math.imul(Z,be)|0,i=i+Math.imul(X,we)|0,f=f+Math.imul(X,be)|0,p=p+Math.imul(Y,Me)|0,i=i+Math.imul(Y,Ee)|0,i=i+Math.imul(G,Me)|0,f=f+Math.imul(G,Ee)|0,p=p+Math.imul(H,xe)|0,i=i+Math.imul(H,Se)|0,i=i+Math.imul(j,xe)|0,f=f+Math.imul(j,Se)|0,p=p+Math.imul($,Ce)|0,i=i+Math.imul($,Re)|0,i=i+Math.imul(z,Ce)|0,f=f+Math.imul(z,Re)|0,p=p+Math.imul(O,ke)|0,i=i+Math.imul(O,Te)|0,i=i+Math.imul(B,ke)|0,f=f+Math.imul(B,Te)|0;var Qt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,p=Math.imul(ce,he),i=Math.imul(ce,de),i=i+Math.imul(le,he)|0,f=Math.imul(le,de),p=p+Math.imul(se,pe)|0,i=i+Math.imul(se,ge)|0,i=i+Math.imul(ae,pe)|0,f=f+Math.imul(ae,ge)|0,p=p+Math.imul(ie,ve)|0,i=i+Math.imul(ie,me)|0,i=i+Math.imul(oe,ve)|0,f=f+Math.imul(oe,me)|0,p=p+Math.imul(ne,_e)|0,i=i+Math.imul(ne,ye)|0,i=i+Math.imul(re,_e)|0,f=f+Math.imul(re,ye)|0,p=p+Math.imul(ee,we)|0,i=i+Math.imul(ee,be)|0,i=i+Math.imul(te,we)|0,f=f+Math.imul(te,be)|0,p=p+Math.imul(Z,Me)|0,i=i+Math.imul(Z,Ee)|0,i=i+Math.imul(X,Me)|0,f=f+Math.imul(X,Ee)|0,p=p+Math.imul(Y,xe)|0,i=i+Math.imul(Y,Se)|0,i=i+Math.imul(G,xe)|0,f=f+Math.imul(G,Se)|0,p=p+Math.imul(H,Ce)|0,i=i+Math.imul(H,Re)|0,i=i+Math.imul(j,Ce)|0,f=f+Math.imul(j,Re)|0,p=p+Math.imul($,ke)|0,i=i+Math.imul($,Te)|0,i=i+Math.imul(z,ke)|0,f=f+Math.imul(z,Te)|0;var Yt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,p=Math.imul(ce,pe),i=Math.imul(ce,ge),i=i+Math.imul(le,pe)|0,f=Math.imul(le,ge),p=p+Math.imul(se,ve)|0,i=i+Math.imul(se,me)|0,i=i+Math.imul(ae,ve)|0,f=f+Math.imul(ae,me)|0,p=p+Math.imul(ie,_e)|0,i=i+Math.imul(ie,ye)|0,i=i+Math.imul(oe,_e)|0,f=f+Math.imul(oe,ye)|0,p=p+Math.imul(ne,we)|0,i=i+Math.imul(ne,be)|0,i=i+Math.imul(re,we)|0,f=f+Math.imul(re,be)|0,p=p+Math.imul(ee,Me)|0,i=i+Math.imul(ee,Ee)|0,i=i+Math.imul(te,Me)|0,f=f+Math.imul(te,Ee)|0,p=p+Math.imul(Z,xe)|0,i=i+Math.imul(Z,Se)|0,i=i+Math.imul(X,xe)|0,f=f+Math.imul(X,Se)|0,p=p+Math.imul(Y,Ce)|0,i=i+Math.imul(Y,Re)|0,i=i+Math.imul(G,Ce)|0,f=f+Math.imul(G,Re)|0,p=p+Math.imul(H,ke)|0,i=i+Math.imul(H,Te)|0,i=i+Math.imul(j,ke)|0,f=f+Math.imul(j,Te)|0;var Gt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,p=Math.imul(ce,ve),i=Math.imul(ce,me),i=i+Math.imul(le,ve)|0,f=Math.imul(le,me),p=p+Math.imul(se,_e)|0,i=i+Math.imul(se,ye)|0,i=i+Math.imul(ae,_e)|0,f=f+Math.imul(ae,ye)|0,p=p+Math.imul(ie,we)|0,i=i+Math.imul(ie,be)|0,i=i+Math.imul(oe,we)|0,f=f+Math.imul(oe,be)|0,p=p+Math.imul(ne,Me)|0,i=i+Math.imul(ne,Ee)|0,i=i+Math.imul(re,Me)|0,f=f+Math.imul(re,Ee)|0,p=p+Math.imul(ee,xe)|0,i=i+Math.imul(ee,Se)|0,i=i+Math.imul(te,xe)|0,f=f+Math.imul(te,Se)|0,p=p+Math.imul(Z,Ce)|0,i=i+Math.imul(Z,Re)|0,i=i+Math.imul(X,Ce)|0,f=f+Math.imul(X,Re)|0,p=p+Math.imul(Y,ke)|0,i=i+Math.imul(Y,Te)|0,i=i+Math.imul(G,ke)|0,f=f+Math.imul(G,Te)|0;var Zt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,p=Math.imul(ce,_e),i=Math.imul(ce,ye),i=i+Math.imul(le,_e)|0,f=Math.imul(le,ye),p=p+Math.imul(se,we)|0,i=i+Math.imul(se,be)|0,i=i+Math.imul(ae,we)|0,f=f+Math.imul(ae,be)|0,p=p+Math.imul(ie,Me)|0,i=i+Math.imul(ie,Ee)|0,i=i+Math.imul(oe,Me)|0,f=f+Math.imul(oe,Ee)|0,p=p+Math.imul(ne,xe)|0,i=i+Math.imul(ne,Se)|0,i=i+Math.imul(re,xe)|0,f=f+Math.imul(re,Se)|0,p=p+Math.imul(ee,Ce)|0,i=i+Math.imul(ee,Re)|0,i=i+Math.imul(te,Ce)|0,f=f+Math.imul(te,Re)|0,p=p+Math.imul(Z,ke)|0,i=i+Math.imul(Z,Te)|0,i=i+Math.imul(X,ke)|0,f=f+Math.imul(X,Te)|0;var Xt=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,p=Math.imul(ce,we),i=Math.imul(ce,be),i=i+Math.imul(le,we)|0,f=Math.imul(le,be),p=p+Math.imul(se,Me)|0,i=i+Math.imul(se,Ee)|0,i=i+Math.imul(ae,Me)|0,f=f+Math.imul(ae,Ee)|0,p=p+Math.imul(ie,xe)|0,i=i+Math.imul(ie,Se)|0,i=i+Math.imul(oe,xe)|0,f=f+Math.imul(oe,Se)|0,p=p+Math.imul(ne,Ce)|0,i=i+Math.imul(ne,Re)|0,i=i+Math.imul(re,Ce)|0,f=f+Math.imul(re,Re)|0,p=p+Math.imul(ee,ke)|0,i=i+Math.imul(ee,Te)|0,i=i+Math.imul(te,ke)|0,f=f+Math.imul(te,Te)|0;var en=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(en>>>26)|0,en&=67108863,p=Math.imul(ce,Me),i=Math.imul(ce,Ee),i=i+Math.imul(le,Me)|0,f=Math.imul(le,Ee),p=p+Math.imul(se,xe)|0,i=i+Math.imul(se,Se)|0,i=i+Math.imul(ae,xe)|0,f=f+Math.imul(ae,Se)|0,p=p+Math.imul(ie,Ce)|0,i=i+Math.imul(ie,Re)|0,i=i+Math.imul(oe,Ce)|0,f=f+Math.imul(oe,Re)|0,p=p+Math.imul(ne,ke)|0,i=i+Math.imul(ne,Te)|0,i=i+Math.imul(re,ke)|0,f=f+Math.imul(re,Te)|0;var tn=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(tn>>>26)|0,tn&=67108863,p=Math.imul(ce,xe),i=Math.imul(ce,Se),i=i+Math.imul(le,xe)|0,f=Math.imul(le,Se),p=p+Math.imul(se,Ce)|0,i=i+Math.imul(se,Re)|0,i=i+Math.imul(ae,Ce)|0,f=f+Math.imul(ae,Re)|0,p=p+Math.imul(ie,ke)|0,i=i+Math.imul(ie,Te)|0,i=i+Math.imul(oe,ke)|0,f=f+Math.imul(oe,Te)|0;var nn=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(nn>>>26)|0,nn&=67108863,p=Math.imul(ce,Ce),i=Math.imul(ce,Re),i=i+Math.imul(le,Ce)|0,f=Math.imul(le,Re),p=p+Math.imul(se,ke)|0,i=i+Math.imul(se,Te)|0,i=i+Math.imul(ae,ke)|0,f=f+Math.imul(ae,Te)|0;var rn=(x+p|0)+((i&8191)<<13)|0;x=(f+(i>>>13)|0)+(rn>>>26)|0,rn&=67108863,p=Math.imul(ce,ke),i=Math.imul(ce,Te),i=i+Math.imul(le,ke)|0,f=Math.imul(le,Te);var on=(x+p|0)+((i&8191)<<13)|0;return x=(f+(i>>>13)|0)+(on>>>26)|0,on&=67108863,y[0]=Ft,y[1]=$t,y[2]=Ht,y[3]=Wt,y[4]=zt,y[5]=jt,y[6]=Jt,y[7]=Vt,y[8]=Kt,y[9]=Qt,y[10]=Yt,y[11]=Gt,y[12]=Zt,y[13]=Xt,y[14]=en,y[15]=tn,y[16]=nn,y[17]=rn,y[18]=on,x!==0&&(y[19]=x,u.length++),u};Math.imul||(R=I);function N(w,o,c){c.negative=o.negative^w.negative,c.length=w.length+o.length;for(var u=0,l=0,h=0;h<c.length-1;h++){var y=l;l=0;for(var x=u&67108863,p=Math.min(h,o.length-1),i=Math.max(0,h-w.length+1);i<=p;i++){var f=h-i,S=w.words[f]|0,O=o.words[i]|0,B=S*O,U=B&67108863;y=y+(B/67108864|0)|0,U=U+x|0,x=U&67108863,y=y+(U>>>26)|0,l+=y>>>26,y&=67108863}c.words[h]=x,u=y,y=l}return u!==0?c.words[h]=u:c.length--,c.strip()}function v(w,o,c){var u=new E;return u.mulp(w,o,c)}s.prototype.mulTo=function(o,c){var u,l=this.length+o.length;return this.length===10&&o.length===10?u=R(this,o,c):l<63?u=I(this,o,c):l<1024?u=N(this,o,c):u=v(this,o,c),u};function E(w,o){this.x=w,this.y=o}E.prototype.makeRBT=function(o){for(var c=new Array(o),u=s.prototype._countBits(o)-1,l=0;l<o;l++)c[l]=this.revBin(l,u,o);return c},E.prototype.revBin=function(o,c,u){if(o===0||o===u-1)return o;for(var l=0,h=0;h<c;h++)l|=(o&1)<<c-h-1,o>>=1;return l},E.prototype.permute=function(o,c,u,l,h,y){for(var x=0;x<y;x++)l[x]=c[o[x]],h[x]=u[o[x]]},E.prototype.transform=function(o,c,u,l,h,y){this.permute(y,o,c,u,l,h);for(var x=1;x<h;x<<=1)for(var p=x<<1,i=Math.cos(2*Math.PI/p),f=Math.sin(2*Math.PI/p),S=0;S<h;S+=p)for(var O=i,B=f,U=0;U<x;U++){var $=u[S+U],z=l[S+U],K=u[S+U+x],H=l[S+U+x],j=O*K-B*H;H=O*H+B*K,K=j,u[S+U]=$+K,l[S+U]=z+H,u[S+U+x]=$-K,l[S+U+x]=z-H,U!==p&&(j=i*O-f*B,B=i*B+f*O,O=j)}},E.prototype.guessLen13b=function(o,c){var u=Math.max(c,o)|1,l=u&1,h=0;for(u=u/2|0;u;u=u>>>1)h++;return 1<<h+1+l},E.prototype.conjugate=function(o,c,u){if(!(u<=1))for(var l=0;l<u/2;l++){var h=o[l];o[l]=o[u-l-1],o[u-l-1]=h,h=c[l],c[l]=-c[u-l-1],c[u-l-1]=-h}},E.prototype.normalize13b=function(o,c){for(var u=0,l=0;l<c/2;l++){var h=Math.round(o[2*l+1]/c)*8192+Math.round(o[2*l]/c)+u;o[l]=h&67108863,h<67108864?u=0:u=h/67108864|0}return o},E.prototype.convert13b=function(o,c,u,l){for(var h=0,y=0;y<c;y++)h=h+(o[y]|0),u[2*y]=h&8191,h=h>>>13,u[2*y+1]=h&8191,h=h>>>13;for(y=2*c;y<l;++y)u[y]=0;r(h===0),r((h&-8192)===0)},E.prototype.stub=function(o){for(var c=new Array(o),u=0;u<o;u++)c[u]=0;return c},E.prototype.mulp=function(o,c,u){var l=2*this.guessLen13b(o.length,c.length),h=this.makeRBT(l),y=this.stub(l),x=new Array(l),p=new Array(l),i=new Array(l),f=new Array(l),S=new Array(l),O=new Array(l),B=u.words;B.length=l,this.convert13b(o.words,o.length,x,l),this.convert13b(c.words,c.length,f,l),this.transform(x,y,p,i,l,h),this.transform(f,y,S,O,l,h);for(var U=0;U<l;U++){var $=p[U]*S[U]-i[U]*O[U];i[U]=p[U]*O[U]+i[U]*S[U],p[U]=$}return this.conjugate(p,i,l),this.transform(p,i,B,y,l,h),this.conjugate(B,y,l),this.normalize13b(B,l),u.negative=o.negative^c.negative,u.length=o.length+c.length,u.strip()},s.prototype.mul=function(o){var c=new s(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},s.prototype.mulf=function(o){var c=new s(null);return c.words=new Array(this.length+o.length),v(this,o,c)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){r(typeof o=="number"),r(o<67108864);for(var c=0,u=0;u<this.length;u++){var l=(this.words[u]|0)*o,h=(l&67108863)+(c&67108863);c>>=26,c+=l/67108864|0,c+=h>>>26,this.words[u]=h&67108863}return c!==0&&(this.words[u]=c,this.length++),this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var c=A(o);if(c.length===0)return new s(1);for(var u=this,l=0;l<c.length&&c[l]===0;l++,u=u.sqr());if(++l<c.length)for(var h=u.sqr();l<c.length;l++,h=h.sqr())c[l]!==0&&(u=u.mul(h));return u},s.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var c=o%26,u=(o-c)/26,l=67108863>>>26-c<<26-c,h;if(c!==0){var y=0;for(h=0;h<this.length;h++){var x=this.words[h]&l,p=(this.words[h]|0)-x<<c;this.words[h]=p|y,y=x>>>26-c}y&&(this.words[h]=y,this.length++)}if(u!==0){for(h=this.length-1;h>=0;h--)this.words[h+u]=this.words[h];for(h=0;h<u;h++)this.words[h]=0;this.length+=u}return this.strip()},s.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,c,u){r(typeof o=="number"&&o>=0);var l;c?l=(c-c%26)/26:l=0;var h=o%26,y=Math.min((o-h)/26,this.length),x=67108863^67108863>>>h<<h,p=u;if(l-=y,l=Math.max(0,l),p){for(var i=0;i<y;i++)p.words[i]=this.words[i];p.length=y}if(y!==0)if(this.length>y)for(this.length-=y,i=0;i<this.length;i++)this.words[i]=this.words[i+y];else this.words[0]=0,this.length=1;var f=0;for(i=this.length-1;i>=0&&(f!==0||i>=l);i--){var S=this.words[i]|0;this.words[i]=f<<26-h|S>>>h,f=S&x}return p&&f!==0&&(p.words[p.length++]=f),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(o,c,u){return r(this.negative===0),this.iushrn(o,c,u)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var c=o%26,u=(o-c)/26,l=1<<c;if(this.length<=u)return!1;var h=this.words[u];return!!(h&l)},s.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var c=o%26,u=(o-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(c!==0&&u++,this.length=Math.min(u,this.length),c!==0){var l=67108863^67108863>>>c<<c;this.words[this.length-1]&=l}return this.strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},s.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,c,u){var l=o.length+u,h;this._expand(l);var y,x=0;for(h=0;h<o.length;h++){y=(this.words[h+u]|0)+x;var p=(o.words[h]|0)*c;y-=p&67108863,x=(y>>26)-(p/67108864|0),this.words[h+u]=y&67108863}for(;h<this.length-u;h++)y=(this.words[h+u]|0)+x,x=y>>26,this.words[h+u]=y&67108863;if(x===0)return this.strip();for(r(x===-1),x=0,h=0;h<this.length;h++)y=-(this.words[h]|0)+x,x=y>>26,this.words[h]=y&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(o,c){var u=this.length-o.length,l=this.clone(),h=o,y=h.words[h.length-1]|0,x=this._countBits(y);u=26-x,u!==0&&(h=h.ushln(u),l.iushln(u),y=h.words[h.length-1]|0);var p=l.length-h.length,i;if(c!=="mod"){i=new s(null),i.length=p+1,i.words=new Array(i.length);for(var f=0;f<i.length;f++)i.words[f]=0}var S=l.clone()._ishlnsubmul(h,1,p);S.negative===0&&(l=S,i&&(i.words[p]=1));for(var O=p-1;O>=0;O--){var B=(l.words[h.length+O]|0)*67108864+(l.words[h.length+O-1]|0);for(B=Math.min(B/y|0,67108863),l._ishlnsubmul(h,B,O);l.negative!==0;)B--,l.negative=0,l._ishlnsubmul(h,1,O),l.isZero()||(l.negative^=1);i&&(i.words[O]=B)}return i&&i.strip(),l.strip(),c!=="div"&&u!==0&&l.iushrn(u),{div:i||null,mod:l}},s.prototype.divmod=function(o,c,u){if(r(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var l,h,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,c),c!=="mod"&&(l=y.div.neg()),c!=="div"&&(h=y.mod.neg(),u&&h.negative!==0&&h.iadd(o)),{div:l,mod:h}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),c),c!=="mod"&&(l=y.div.neg()),{div:l,mod:y.mod}):(this.negative&o.negative)!==0?(y=this.neg().divmod(o.neg(),c),c!=="div"&&(h=y.mod.neg(),u&&h.negative!==0&&h.isub(o)),{div:y.div,mod:h}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?c==="div"?{div:this.divn(o.words[0]),mod:null}:c==="mod"?{div:null,mod:new s(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modn(o.words[0]))}:this._wordDiv(o,c)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var u=c.div.negative!==0?c.mod.isub(o):c.mod,l=o.ushrn(1),h=o.andln(1),y=u.cmp(l);return y<0||h===1&&y===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},s.prototype.modn=function(o){r(o<=67108863);for(var c=(1<<26)%o,u=0,l=this.length-1;l>=0;l--)u=(c*u+(this.words[l]|0))%o;return u},s.prototype.idivn=function(o){r(o<=67108863);for(var c=0,u=this.length-1;u>=0;u--){var l=(this.words[u]|0)+c*67108864;this.words[u]=l/o|0,c=l%o}return this.strip()},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var c=this,u=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var l=new s(1),h=new s(0),y=new s(0),x=new s(1),p=0;c.isEven()&&u.isEven();)c.iushrn(1),u.iushrn(1),++p;for(var i=u.clone(),f=c.clone();!c.isZero();){for(var S=0,O=1;(c.words[0]&O)===0&&S<26;++S,O<<=1);if(S>0)for(c.iushrn(S);S-- >0;)(l.isOdd()||h.isOdd())&&(l.iadd(i),h.isub(f)),l.iushrn(1),h.iushrn(1);for(var B=0,U=1;(u.words[0]&U)===0&&B<26;++B,U<<=1);if(B>0)for(u.iushrn(B);B-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(i),x.isub(f)),y.iushrn(1),x.iushrn(1);c.cmp(u)>=0?(c.isub(u),l.isub(y),h.isub(x)):(u.isub(c),y.isub(l),x.isub(h))}return{a:y,b:x,gcd:u.iushln(p)}},s.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var c=this,u=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var l=new s(1),h=new s(0),y=u.clone();c.cmpn(1)>0&&u.cmpn(1)>0;){for(var x=0,p=1;(c.words[0]&p)===0&&x<26;++x,p<<=1);if(x>0)for(c.iushrn(x);x-- >0;)l.isOdd()&&l.iadd(y),l.iushrn(1);for(var i=0,f=1;(u.words[0]&f)===0&&i<26;++i,f<<=1);if(i>0)for(u.iushrn(i);i-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);c.cmp(u)>=0?(c.isub(u),l.isub(h)):(u.isub(c),h.isub(l))}var S;return c.cmpn(1)===0?S=l:S=h,S.cmpn(0)<0&&S.iadd(o),S},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),u=o.clone();c.negative=0,u.negative=0;for(var l=0;c.isEven()&&u.isEven();l++)c.iushrn(1),u.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;u.isEven();)u.iushrn(1);var h=c.cmp(u);if(h<0){var y=c;c=u,u=y}else if(h===0||u.cmpn(1)===0)break;c.isub(u)}while(!0);return u.iushln(l)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){r(typeof o=="number");var c=o%26,u=(o-c)/26,l=1<<c;if(this.length<=u)return this._expand(u+1),this.words[u]|=l,this;for(var h=l,y=u;h!==0&&y<this.length;y++){var x=this.words[y]|0;x+=h,h=x>>>26,x&=67108863,this.words[y]=x}return h!==0&&(this.words[y]=h,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var c=o<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var u;if(this.length>1)u=1;else{c&&(o=-o),r(o<=67108863,"Number is too big");var l=this.words[0]|0;u=l===o?0:l<o?-1:1}return this.negative!==0?-u|0:u},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var c=this.ucmp(o);return this.negative!==0?-c|0:c},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,u=this.length-1;u>=0;u--){var l=this.words[u]|0,h=o.words[u]|0;if(l!==h){l<h?c=-1:l>h&&(c=1);break}}return c},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new q(o)},s.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function M(w,o){this.name=w,this.p=new s(o,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},M.prototype.ireduce=function(o){var c=o,u;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),u=c.bitLength();while(u>this.n);var l=u<this.n?-1:c.ucmp(this.p);return l===0?(c.words[0]=0,c.length=1):l>0?c.isub(this.p):c.strip(),c},M.prototype.split=function(o,c){o.iushrn(this.n,0,c)},M.prototype.imulK=function(o){return o.imul(this.k)};function T(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(T,M),T.prototype.split=function(o,c){for(var u=4194303,l=Math.min(o.length,9),h=0;h<l;h++)c.words[h]=o.words[h];if(c.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(c.words[c.length++]=y&u,h=10;h<o.length;h++){var x=o.words[h]|0;o.words[h-10]=(x&u)<<4|y>>>22,y=x}y>>>=22,o.words[h-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},T.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,u=0;u<o.length;u++){var l=o.words[u]|0;c+=l*977,o.words[u]=c&67108863,c=l*64+(c/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(L,M);function D(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(D,M);function F(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(F,M),F.prototype.imulK=function(o){for(var c=0,u=0;u<o.length;u++){var l=(o.words[u]|0)*19+c,h=l&67108863;l>>>=26,o.words[u]=h,c=l}return c!==0&&(o.words[o.length++]=c),o},s._prime=function(o){if(k[o])return k[o];var c;if(o==="k256")c=new T;else if(o==="p224")c=new L;else if(o==="p192")c=new D;else if(o==="p25519")c=new F;else throw new Error("Unknown prime "+o);return k[o]=c,c};function q(w){if(typeof w=="string"){var o=s._prime(w);this.m=o.p,this.prime=o}else r(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}q.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},q.prototype._verify2=function(o,c){r((o.negative|c.negative)===0,"red works only with positives"),r(o.red&&o.red===c.red,"red works only with red numbers")},q.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},q.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},q.prototype.add=function(o,c){this._verify2(o,c);var u=o.add(c);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},q.prototype.iadd=function(o,c){this._verify2(o,c);var u=o.iadd(c);return u.cmp(this.m)>=0&&u.isub(this.m),u},q.prototype.sub=function(o,c){this._verify2(o,c);var u=o.sub(c);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},q.prototype.isub=function(o,c){this._verify2(o,c);var u=o.isub(c);return u.cmpn(0)<0&&u.iadd(this.m),u},q.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},q.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},q.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},q.prototype.isqr=function(o){return this.imul(o,o.clone())},q.prototype.sqr=function(o){return this.mul(o,o)},q.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var u=this.m.add(new s(1)).iushrn(2);return this.pow(o,u)}for(var l=this.m.subn(1),h=0;!l.isZero()&&l.andln(1)===0;)h++,l.iushrn(1);r(!l.isZero());var y=new s(1).toRed(this),x=y.redNeg(),p=this.m.subn(1).iushrn(1),i=this.m.bitLength();for(i=new s(2*i*i).toRed(this);this.pow(i,p).cmp(x)!==0;)i.redIAdd(x);for(var f=this.pow(i,l),S=this.pow(o,l.addn(1).iushrn(1)),O=this.pow(o,l),B=h;O.cmp(y)!==0;){for(var U=O,$=0;U.cmp(y)!==0;$++)U=U.redSqr();r($<B);var z=this.pow(f,new s(1).iushln(B-$-1));S=S.redMul(z),f=z.redSqr(),O=O.redMul(f),B=$}return S},q.prototype.invm=function(o){var c=o._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},q.prototype.pow=function(o,c){if(c.isZero())return new s(1).toRed(this);if(c.cmpn(1)===0)return o.clone();var u=4,l=new Array(1<<u);l[0]=new s(1).toRed(this),l[1]=o;for(var h=2;h<l.length;h++)l[h]=this.mul(l[h-1],o);var y=l[0],x=0,p=0,i=c.bitLength()%26;for(i===0&&(i=26),h=c.length-1;h>=0;h--){for(var f=c.words[h],S=i-1;S>=0;S--){var O=f>>S&1;if(y!==l[0]&&(y=this.sqr(y)),O===0&&x===0){p=0;continue}x<<=1,x|=O,p++,!(p!==u&&(h!==0||S!==0))&&(y=this.mul(y,l[x]),p=0,x=0)}i=26}return y},q.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},q.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},s.mont=function(o){return new J(o)};function J(w){q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(J,q),J.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},J.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},J.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var u=o.imul(c),l=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=u.isub(l).iushrn(this.shift),y=h;return h.cmp(this.m)>=0?y=h.isub(this.m):h.cmpn(0)<0&&(y=h.iadd(this.m)),y._forceRed(this)},J.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new s(0)._forceRed(this);var u=o.mul(c),l=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=u.isub(l).iushrn(this.shift),y=h;return h.cmp(this.m)>=0?y=h.isub(this.m):h.cmpn(0)<0&&(y=h.iadd(this.m)),y._forceRed(this)},J.prototype.invm=function(o){var c=this.imod(o._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(t,Le)})(Bi);var ra=Bi.exports,ia=Dn;Dn.strict=Li;Dn.loose=Pi;var oa=Object.prototype.toString,sa={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Dn(t){return Li(t)||Pi(t)}function Li(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Pi(t){return sa[oa.call(t)]}var aa=ia.strict,ca=function(e){if(aa(e)){var n=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}else return Buffer.from(e)};const Ui="hex",Di="utf8",Ot="0";function Xe(t){return new Uint8Array(t)}function qi(t,e=!1){const n=t.toString(Ui);return e?at(n):n}function la(t){return t.toString(Di)}function Nt(t){return ca(t)}function Qe(t,e=!1){return qi(Nt(t),e)}function fa(t){return la(Nt(t))}function ua(t){return Buffer.from(He(t),Ui)}function Ye(t){return Xe(ua(t))}function qn(t){return Buffer.from(t,Di)}function ha(t){return Xe(qn(t))}function da(t,e=!1){return qi(qn(t),e)}function pa(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Fi(...t){let e=[];return t.forEach(n=>e=e.concat(Array.from(n))),new Uint8Array([...e])}function ga(t,e=8){const n=t%e;return n?(t-n)/e*e+e:t}function va(t,e=8,n=Ot){return ma(t,ga(t.length,e),n)}function ma(t,e,n=Ot){return ya(t,e,!0,n)}function He(t){return t.replace(/^0x/,"")}function at(t){return t.startsWith("0x")?t:`0x${t}`}function $i(t){return t=He(t),t=va(t,2),t&&(t=at(t)),t}function _a(t){const e=t.startsWith("0x");return t=He(t),t=t.startsWith(Ot)?t.substring(1):t,e?at(t):t}function ya(t,e,n,r=Ot){const a=e-t.length;let s=t;if(a>0){const d=r.repeat(a);s=n?d+t:t+d}return s}function wn(t){return Nt(new Uint8Array(t))}function wa(t,e){return Qe(new Uint8Array(t),!e)}function ba(t){return Xe(t).buffer}function Ma(t){return qn(t)}function Ea(t,e){return da(t,!e)}function xa(t){return Ye(t).buffer}function Hi(t,e){const n=He($i(new ra(t).toString(16)));return e?n:at(n)}function _t(t){return $i(t)}function Sa(t){return _a(at(t))}const Ca=oi;function sn(){return((e,n)=>{for(n=e="";e++<36;n+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return n})()}function Ra(t,e){let n;const r=na[t];return r&&(n=`https://${r}.infura.io/v3/${e}`),n}function ka(t,e){let n;const r=Ra(t,e.infuraId);return e.custom&&e.custom[t]?n=e.custom[t]:r&&(n=r),n}function Ta(t){return t===""||typeof t=="string"&&t.trim()===""}function Aa(t){return!(t&&t.length)}function Wi(t,e){return pa(t,e)}function Ia(t){return typeof t.method!="undefined"}function lt(t){return typeof t.result!="undefined"}function Et(t){return typeof t.error!="undefined"}function Cr(t){return typeof t.event!="undefined"}function Oa(t){return ta.includes(t)||t.startsWith("wc_")}function Na(t){return t.method.startsWith("wc_")?!0:!Un.includes(t.method)}function Ba(t){t=He(t.toLowerCase());const e=He($o.exports.keccak_256(Ma(t)));let n="";for(let r=0;r<t.length;r++)parseInt(e[r],16)>7?n+=t[r].toUpperCase():n+=t[r];return at(n)}const La=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===Ba(t):!1:!1;function Rr(t){return!Aa(t)&&!Wi(t[0])&&(t[0]=Ea(t[0])),t}function an(t){if(typeof t.type!="undefined"&&t.type!=="0")return t;if(typeof t.from=="undefined"||!La(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(a){let s=a;return(typeof a=="number"||typeof a=="string"&&!Ta(a))&&(Wi(a)?typeof a=="string"&&(s=_t(a)):s=Hi(a)),typeof s=="string"&&(s=Sa(s)),s}const n={from:_t(t.from),to:typeof t.to=="undefined"?void 0:_t(t.to),gasPrice:typeof t.gasPrice=="undefined"?"":e(t.gasPrice),gas:typeof t.gas=="undefined"?typeof t.gasLimit=="undefined"?"":e(t.gasLimit):e(t.gas),value:typeof t.value=="undefined"?"":e(t.value),nonce:typeof t.nonce=="undefined"?"":e(t.nonce),data:typeof t.data=="undefined"?"":_t(t.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(n).forEach(a=>{(typeof n[a]=="undefined"||typeof n[a]=="string"&&!n[a].trim().length)&&r.includes(a)&&delete n[a]}),n}function Pa(t){const e=t.message||"Failed or Rejected Request";let n=-32e3;if(t&&!t.code)switch(e){case"Parse error":n=-32700;break;case"Invalid request":n=-32600;break;case"Method not found":n=-32601;break;case"Invalid params":n=-32602;break;case"Internal error":n=-32603;break;default:n=-32e3;break}return{code:n,message:e}}var Fn={},Ua=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),zi="%[a-f0-9]{2}",kr=new RegExp(zi,"gi"),Tr=new RegExp("("+zi+")+","gi");function bn(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],bn(n),bn(r))}function Da(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(kr),n=1;n<e.length;n++)t=bn(e,n).join(""),e=t.match(kr);return t}}function qa(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=Tr.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=Da(n[0]);r!==n[0]&&(e[n[0]]=r)}n=Tr.exec(t)}e["%C2"]="\uFFFD";for(var a=Object.keys(e),s=0;s<a.length;s++){var d=a[s];t=t.replace(new RegExp(d,"g"),e[d])}return t}var Fa=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return qa(t)}},$a=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]};(function(t){const e=Ua,n=Fa,r=$a,a=v=>v==null;function s(v){switch(v.arrayFormat){case"index":return E=>(k,M)=>{const T=k.length;return M===void 0||v.skipNull&&M===null||v.skipEmptyString&&M===""?k:M===null?[...k,[_(E,v),"[",T,"]"].join("")]:[...k,[_(E,v),"[",_(T,v),"]=",_(M,v)].join("")]};case"bracket":return E=>(k,M)=>M===void 0||v.skipNull&&M===null||v.skipEmptyString&&M===""?k:M===null?[...k,[_(E,v),"[]"].join("")]:[...k,[_(E,v),"[]=",_(M,v)].join("")];case"comma":case"separator":return E=>(k,M)=>M==null||M.length===0?k:k.length===0?[[_(E,v),"=",_(M,v)].join("")]:[[k,_(M,v)].join(v.arrayFormatSeparator)];default:return E=>(k,M)=>M===void 0||v.skipNull&&M===null||v.skipEmptyString&&M===""?k:M===null?[...k,_(E,v)]:[...k,[_(E,v),"=",_(M,v)].join("")]}}function d(v){let E;switch(v.arrayFormat){case"index":return(k,M,T)=>{if(E=/\[(\d*)\]$/.exec(k),k=k.replace(/\[\d*\]$/,""),!E){T[k]=M;return}T[k]===void 0&&(T[k]={}),T[k][E[1]]=M};case"bracket":return(k,M,T)=>{if(E=/(\[\])$/.exec(k),k=k.replace(/\[\]$/,""),!E){T[k]=M;return}if(T[k]===void 0){T[k]=[M];return}T[k]=[].concat(T[k],M)};case"comma":case"separator":return(k,M,T)=>{const D=typeof M=="string"&&M.split("").indexOf(v.arrayFormatSeparator)>-1?M.split(v.arrayFormatSeparator).map(F=>b(F,v)):M===null?M:b(M,v);T[k]=D};default:return(k,M,T)=>{if(T[k]===void 0){T[k]=M;return}T[k]=[].concat(T[k],M)}}}function g(v){if(typeof v!="string"||v.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(v,E){return E.encode?E.strict?e(v):encodeURIComponent(v):v}function b(v,E){return E.decode?n(v):v}function m(v){return Array.isArray(v)?v.sort():typeof v=="object"?m(Object.keys(v)).sort((E,k)=>Number(E)-Number(k)).map(E=>v[E]):v}function C(v){const E=v.indexOf("#");return E!==-1&&(v=v.slice(0,E)),v}function A(v){let E="";const k=v.indexOf("#");return k!==-1&&(E=v.slice(k)),E}function I(v){v=C(v);const E=v.indexOf("?");return E===-1?"":v.slice(E+1)}function R(v,E){return E.parseNumbers&&!Number.isNaN(Number(v))&&typeof v=="string"&&v.trim()!==""?v=Number(v):E.parseBooleans&&v!==null&&(v.toLowerCase()==="true"||v.toLowerCase()==="false")&&(v=v.toLowerCase()==="true"),v}function N(v,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),g(E.arrayFormatSeparator);const k=d(E),M=Object.create(null);if(typeof v!="string"||(v=v.trim().replace(/^[?#&]/,""),!v))return M;for(const T of v.split("&")){let[L,D]=r(E.decode?T.replace(/\+/g," "):T,"=");D=D===void 0?null:["comma","separator"].includes(E.arrayFormat)?D:b(D,E),k(b(L,E),D,M)}for(const T of Object.keys(M)){const L=M[T];if(typeof L=="object"&&L!==null)for(const D of Object.keys(L))L[D]=R(L[D],E);else M[T]=R(L,E)}return E.sort===!1?M:(E.sort===!0?Object.keys(M).sort():Object.keys(M).sort(E.sort)).reduce((T,L)=>{const D=M[L];return Boolean(D)&&typeof D=="object"&&!Array.isArray(D)?T[L]=m(D):T[L]=D,T},Object.create(null))}t.extract=I,t.parse=N,t.stringify=(v,E)=>{if(!v)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),g(E.arrayFormatSeparator);const k=D=>E.skipNull&&a(v[D])||E.skipEmptyString&&v[D]==="",M=s(E),T={};for(const D of Object.keys(v))k(D)||(T[D]=v[D]);const L=Object.keys(T);return E.sort!==!1&&L.sort(E.sort),L.map(D=>{const F=v[D];return F===void 0?"":F===null?_(D,E):Array.isArray(F)?F.reduce(M(D),[]).join("&"):_(D,E)+"="+_(F,E)}).filter(D=>D.length>0).join("&")},t.parseUrl=(v,E)=>{E=Object.assign({decode:!0},E);const[k,M]=r(v,"#");return Object.assign({url:k.split("?")[0]||"",query:N(I(v),E)},E&&E.parseFragmentIdentifier&&M?{fragmentIdentifier:b(M,E)}:{})},t.stringifyUrl=(v,E)=>{E=Object.assign({encode:!0,strict:!0},E);const k=C(v.url).split("?")[0]||"",M=t.extract(v.url),T=t.parse(M,{sort:!1}),L=Object.assign(T,v.query);let D=t.stringify(L,E);D&&(D=`?${D}`);let F=A(v.url);return v.fragmentIdentifier&&(F=`#${_(v.fragmentIdentifier,E)}`),`${k}${D}${F}`}})(Fn);function Ha(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e!="undefined"?t.substr(e):""}function Wa(t,e){let n=ji(t);return n=Object.assign(Object.assign({},n),e),t=za(n),t}function ji(t){return Fn.parse(t)}function za(t){return Fn.stringify(t)}function ja(t){return typeof t.bridge!="undefined"}function Ja(t){const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),a=t.substring(e+1,n);function s(C){const A="@",I=C.split(A);return{handshakeTopic:I[0],version:parseInt(I[1],10)}}const d=s(a),g=typeof n!="undefined"?t.substr(n):"";function _(C){const A=ji(C);return{key:A.key||"",bridge:A.bridge||""}}const b=_(g);return Object.assign(Object.assign({protocol:r},d),b)}var Ji={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(_,b,m){this.fn=_,this.context=b,this.once=m||!1}function s(_,b,m,C,A){if(typeof m!="function")throw new TypeError("The listener must be a function");var I=new a(m,C||_,A),R=n?n+b:b;return _._events[R]?_._events[R].fn?_._events[R]=[_._events[R],I]:_._events[R].push(I):(_._events[R]=I,_._eventsCount++),_}function d(_,b){--_._eventsCount===0?_._events=new r:delete _._events[b]}function g(){this._events=new r,this._eventsCount=0}g.prototype.eventNames=function(){var b=[],m,C;if(this._eventsCount===0)return b;for(C in m=this._events)e.call(m,C)&&b.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(m)):b},g.prototype.listeners=function(b){var m=n?n+b:b,C=this._events[m];if(!C)return[];if(C.fn)return[C.fn];for(var A=0,I=C.length,R=new Array(I);A<I;A++)R[A]=C[A].fn;return R},g.prototype.listenerCount=function(b){var m=n?n+b:b,C=this._events[m];return C?C.fn?1:C.length:0},g.prototype.emit=function(b,m,C,A,I,R){var N=n?n+b:b;if(!this._events[N])return!1;var v=this._events[N],E=arguments.length,k,M;if(v.fn){switch(v.once&&this.removeListener(b,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,m),!0;case 3:return v.fn.call(v.context,m,C),!0;case 4:return v.fn.call(v.context,m,C,A),!0;case 5:return v.fn.call(v.context,m,C,A,I),!0;case 6:return v.fn.call(v.context,m,C,A,I,R),!0}for(M=1,k=new Array(E-1);M<E;M++)k[M-1]=arguments[M];v.fn.apply(v.context,k)}else{var T=v.length,L;for(M=0;M<T;M++)switch(v[M].once&&this.removeListener(b,v[M].fn,void 0,!0),E){case 1:v[M].fn.call(v[M].context);break;case 2:v[M].fn.call(v[M].context,m);break;case 3:v[M].fn.call(v[M].context,m,C);break;case 4:v[M].fn.call(v[M].context,m,C,A);break;default:if(!k)for(L=1,k=new Array(E-1);L<E;L++)k[L-1]=arguments[L];v[M].fn.apply(v[M].context,k)}}return!0},g.prototype.on=function(b,m,C){return s(this,b,m,C,!1)},g.prototype.once=function(b,m,C){return s(this,b,m,C,!0)},g.prototype.removeListener=function(b,m,C,A){var I=n?n+b:b;if(!this._events[I])return this;if(!m)return d(this,I),this;var R=this._events[I];if(R.fn)R.fn===m&&(!A||R.once)&&(!C||R.context===C)&&d(this,I);else{for(var N=0,v=[],E=R.length;N<E;N++)(R[N].fn!==m||A&&!R[N].once||C&&R[N].context!==C)&&v.push(R[N]);v.length?this._events[I]=v.length===1?v[0]:v:d(this,I)}return this},g.prototype.removeAllListeners=function(b){var m;return b?(m=n?n+b:b,this._events[m]&&d(this,m)):(this._events=new r,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=n,g.EventEmitter=g,t.exports=g})(Ji);var Va=Ji.exports;class Ka{constructor(){this._eventEmitters=[],typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,n){this._eventEmitters.push({event:e,callback:n})}trigger(e){let n=[];e&&(n=this._eventEmitters.filter(r=>r.event===e)),n.forEach(r=>{r.callback()})}}const Qa=typeof global.WebSocket!="undefined"?global.WebSocket:require("ws");class Ya{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new Ka,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,n,r){if(!n||typeof n!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:n,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,n){this._events.push({event:e,callback:n})}_socketCreate(){if(this._nextSocket)return;const e=Ga(this._url,this._protocol,this._version);if(this._nextSocket=new Qa(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=n=>this._socketReceive(n),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=n=>this._socketError(n),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const n=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(n):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let n;try{n=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:n.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(a=>a.event==="message");r&&r.length&&r.forEach(a=>a.callback(n))}}_socketError(e){const n=this._events.filter(r=>r.event==="error");n&&n.length&&n.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(n=>this._queue.push({topic:n,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(n=>this._socketSend(n)),this._queue=[]}}function Ga(t,e,n){var r,a;const d=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),g=Ci()?{protocol:e,version:n,env:"browser",host:((r=ki())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:n,env:((a=Tt())===null||a===void 0?void 0:a.name)||""},_=Wa(Ha(d[1]||""),g);return d[0]+"?"+_}const cn="Session currently connected",Je="Session currently disconnected",Za="Session Rejected",Xa="Missing JSON RPC response",ec='JSON-RPC success response must include "result" field',tc='JSON-RPC error response must include "error" field',nc='JSON RPC request must have valid "method" value',rc='JSON RPC request must have valid "id" value',ic="Missing one of the required parameters: bridge / uri / session",Ar="JSON RPC response format is invalid",oc="URI format is invalid",sc="QRCode Modal not provided",Ir="User close QRCode Modal";class ac{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(n=>n.event!==e)}trigger(e){let n=[],r;Ia(e)?r=e.method:lt(e)||Et(e)?r=`response:${e.id}`:Cr(e)?r=e.event:r="",r&&(n=this._eventEmitters.filter(a=>a.event===r)),(!n||!n.length)&&!Oa(r)&&!Cr(r)&&(n=this._eventEmitters.filter(a=>a.event==="call_request")),n.forEach(a=>{if(Et(e)){const s=new Error(e.error.message);a.callback(s,null)}else a.callback(null,e)})}}class cc{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const n=Ln(this.storageId);return n&&ja(n)&&(e=n),e}setSession(e){return Bn(this.storageId,e),e}removeSession(){Pn(this.storageId)}}const lc="walletconnect.org",fc="abcdefghijklmnopqrstuvwxyz0123456789",Vi=fc.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function uc(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function hc(t){return uc(t).split(".").slice(-2).join(".")}function dc(){return Math.floor(Math.random()*Vi.length)}function pc(){return Vi[dc()]}function gc(t){return hc(t)===lc}function vc(t){return gc(t)?pc():t}class mc{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new ac,this._clientMeta=yn()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new cc(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Un,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(ic);e.connectorOpts.bridge&&(this.bridge=vc(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const n=e.connectorOpts.session||this._getStorageSession();n&&(this.session=n),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new Ya({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const n=xa(e);this._key=n}get key(){return this._key?wa(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=sn()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=yn()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:n,bridge:r,key:a}=this._parseUri(e);this.handshakeTopic=n,this.bridge=r,this.key=a}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,n){const r={event:e,callback:n};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const n=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=n.id,this.handshakeTopic=sn(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Ir)});const r=()=>{this.killSession()};try{const a=await this._sendCallRequest(n);return a&&r(),a}catch(a){throw r(),a}}async connect(e){if(!this._qrcodeModal)throw new Error(sc);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(n,r)=>{this.on("modal_closed",()=>r(new Error(Ir))),this.on("connect",(a,s)=>{if(a)return r(a);n(s.params[0])})}))}async createSession(e){if(this._connected)throw new Error(cn);if(this.pending)return;this._key=await this._generateKey();const n=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=n.id,this.handshakeTopic=sn(),this._sendSessionRequest(n,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(cn);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:n};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(cn);const n=e&&e.message?e.message:Za,r=this._formatResponse({id:this.handshakeId,error:{message:n}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Je);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const n={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[n]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const n=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},a=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(a),this._handleSessionDisconnect(n)}async sendTransaction(e){if(!this._connected)throw new Error(Je);const n=an(e),r=this._formatRequest({method:"eth_sendTransaction",params:[n]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(Je);const n=an(e),r=this._formatRequest({method:"eth_signTransaction",params:[n]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(Je);const n=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(n)}async signPersonalMessage(e){if(!this._connected)throw new Error(Je);e=Rr(e);const n=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(n)}async signTypedData(e){if(!this._connected)throw new Error(Je);const n=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(n)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const n=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(n)}unsafeSend(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),new Promise((r,a)=>{this._subscribeToResponse(e.id,(s,d)=>{if(s){a(s);return}if(!d)throw new Error(Xa);r(d)})})}async sendCustomRequest(e,n){if(!this._connected)throw new Error(Je);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Hi(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=an(e.params[0]));break;case"personal_sign":e.params&&(e.params=Rr(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,n)}approveRequest(e){if(lt(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(ec)}rejectRequest(e){if(Et(e)){const n=this._formatResponse(e);this._sendResponse(n)}else throw new Error(tc)}transportClose(){this._transport.close()}async _sendRequest(e,n){const r=this._formatRequest(e),a=await this._encrypt(r),s=typeof(n==null?void 0:n.topic)!="undefined"?n.topic:this.peerId,d=JSON.stringify(a),g=typeof(n==null?void 0:n.forcePushNotification)!="undefined"?!n.forcePushNotification:Na(r);this._transport.send(d,s,g)}async _sendResponse(e){const n=await this._encrypt(e),r=this.peerId,a=JSON.stringify(n),s=!0;this._transport.send(a,r,s)}async _sendSessionRequest(e,n,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,n)}_sendCallRequest(e,n){return this._sendRequest(e,n),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:n}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method=="undefined")throw new Error(nc);return{id:typeof e.id=="undefined"?Ca():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params=="undefined"?[]:e.params}}_formatResponse(e){if(typeof e.id=="undefined")throw new Error(rc);const n={id:e.id,jsonrpc:"2.0"};if(Et(e)){const r=Pa(e.error);return Object.assign(Object.assign(Object.assign({},n),e),{error:r})}else if(lt(e))return Object.assign(Object.assign({},n),e);throw new Error(Ar)}_handleSessionDisconnect(e){const n=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Pn(Mt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:n}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,n){n?n.approved?(this._connected?(n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,n.chainId&&(this.chainId=n.chainId),n.accounts&&(this.accounts=n.accounts),n.peerId&&!this.peerId&&(this.peerId=n.peerId),n.peerMeta&&!this.peerMeta&&(this.peerMeta=n.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const a=await this._decrypt(r);a&&this._eventManager.trigger(a)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,n){this.on(`response:${e}`,n)}_subscribeToSessionResponse(e,n){this._subscribeToResponse(e,(r,a)=>{if(r){this._handleSessionResponse(r.message);return}lt(a)?this._handleSessionResponse(n,a.result):a.error&&a.error.message?this._handleSessionResponse(a.error.message):this._handleSessionResponse(n)})}_subscribeToCallResponse(e){return new Promise((n,r)=>{this._subscribeToResponse(e,(a,s)=>{if(a){r(a);return}lt(s)?n(s.result):s.error&&s.error.message?r(new Error(s.error.message)):r(new Error(Ar))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,n)=>{const{request:r}=n.params[0];if(xi()&&this._signingMethods.includes(r.method)){const a=Ln(Mt);a&&(window.location.href=a.href)}}),this.on("wc_sessionRequest",(e,n)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=n.id,this.peerId=n.params[0].peerId,this.peerMeta=n.params[0].peerMeta;const r=Object.assign(Object.assign({},n),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,n)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",n.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,n=this.handshakeTopic,r=this.version,a=encodeURIComponent(this.bridge),s=this.key;return`${e}:${n}@${r}?bridge=${a}&key=${s}`}_parseUri(e){const n=Ja(e);if(n.protocol===this.protocol){if(!n.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=n.handshakeTopic;if(!n.bridge)throw Error("Invalid or missing bridge url parameter value");const a=decodeURIComponent(n.bridge);if(!n.key)throw Error("Invalid or missing key parameter value");const s=n.key;return{handshakeTopic:r,bridge:a,key:s}}else throw new Error(oc)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.encrypt(e,n):null}async _decrypt(e){const n=this._key;return this._cryptoLib&&n?await this._cryptoLib.decrypt(e,n):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const n={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,a)=>{if(r)throw r;if(e.peerMeta){const s=a.params[0].peerMeta.name;n.peerName=s}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function _c(t){return ot.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const Ki=256,Qi=Ki,yc=Ki,We="AES-CBC",wc=`SHA-${Qi}`,Mn="HMAC",bc="encrypt",Mc="decrypt",Ec="sign",xc="verify";function Sc(t){return t===We?{length:Qi,name:We}:{hash:{name:wc},name:Mn}}function Cc(t){return t===We?[bc,Mc]:[Ec,xc]}async function $n(t,e=We){return ot.getSubtleCrypto().importKey("raw",t,Sc(e),!0,Cc(e))}async function Rc(t,e,n){const r=ot.getSubtleCrypto(),a=await $n(e,We),s=await r.encrypt({iv:t,name:We},a,n);return new Uint8Array(s)}async function kc(t,e,n){const r=ot.getSubtleCrypto(),a=await $n(e,We),s=await r.decrypt({iv:t,name:We},a,n);return new Uint8Array(s)}async function Tc(t,e){const n=ot.getSubtleCrypto(),r=await $n(t,Mn),a=await n.sign({length:yc,name:Mn},r,e);return new Uint8Array(a)}function Ac(t,e,n){return Rc(t,e,n)}function Ic(t,e,n){return kc(t,e,n)}async function Yi(t,e){return await Tc(t,e)}async function Gi(t){const e=(t||256)/8,n=_c(e);return ba(Nt(n))}async function Zi(t,e){const n=Ye(t.data),r=Ye(t.iv),a=Ye(t.hmac),s=Qe(a,!1),d=Fi(n,r),g=await Yi(e,d),_=Qe(g,!1);return He(s)===He(_)}async function Oc(t,e,n){const r=Xe(wn(e)),a=n||await Gi(128),s=Xe(wn(a)),d=Qe(s,!1),g=JSON.stringify(t),_=ha(g),b=await Ac(s,r,_),m=Qe(b,!1),C=Fi(b,s),A=await Yi(r,C),I=Qe(A,!1);return{data:m,hmac:I,iv:d}}async function Nc(t,e){const n=Xe(wn(e));if(!n)throw new Error("Missing key: required for decryption");if(!await Zi(t,n))return null;const a=Ye(t.data),s=Ye(t.iv),d=await Ic(s,n,a),g=fa(d);let _;try{_=JSON.parse(g)}catch{return null}return _}var Bc=Object.freeze(Object.defineProperty({__proto__:null,generateKey:Gi,verifyHmac:Zi,encrypt:Oc,decrypt:Nc},Symbol.toStringTag,{value:"Module"}));class Lc extends mc{constructor(e,n){super({cryptoLib:Bc,connectorOpts:e,pushServerOpts:n})}}var Pc=Xr(ea),vt={},Uc=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Xi={},ze={},Dc={}.toString,Hn=Array.isArray||function(t){return Dc.call(t)=="[object Array]"},qc=Hn;function Fc(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}W.TYPED_ARRAY_SUPPORT=Fc();var Or=W.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function W(t,e,n){return!W.TYPED_ARRAY_SUPPORT&&!(this instanceof W)?new W(t,e,n):typeof t=="number"?eo(this,t):Vc(this,t,e,n)}W.TYPED_ARRAY_SUPPORT&&(W.prototype.__proto__=Uint8Array.prototype,W.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&W[Symbol.species]===W&&Object.defineProperty(W,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function Wn(t){if(t>=Or)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Or.toString(16)+" bytes");return t|0}function $c(t){return t!==t}function et(t,e){var n;return W.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=W.prototype):(n=t,n===null&&(n=new W(e)),n.length=e),n}function eo(t,e){var n=et(t,e<0?0:Wn(e)|0);if(!W.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function Hc(t,e){var n=no(e)|0,r=et(t,n),a=r.write(e);return a!==n&&(r=r.slice(0,a)),r}function En(t,e){for(var n=e.length<0?0:Wn(e.length)|0,r=et(t,n),a=0;a<n;a+=1)r[a]=e[a]&255;return r}function Wc(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var a;return n===void 0&&r===void 0?a=new Uint8Array(e):r===void 0?a=new Uint8Array(e,n):a=new Uint8Array(e,n,r),W.TYPED_ARRAY_SUPPORT?a.__proto__=W.prototype:a=En(t,a),a}function zc(t,e){if(W.isBuffer(e)){var n=Wn(e.length)|0,r=et(t,n);return r.length===0||e.copy(r,0,0,n),r}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||$c(e.length)?et(t,0):En(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return En(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function to(t,e){e=e||1/0;for(var n,r=t.length,a=null,s=[],d=0;d<r;++d){if(n=t.charCodeAt(d),n>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(d+1===r){(e-=3)>-1&&s.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),a=n;continue}n=(a-55296<<10|n-56320)+65536}else a&&(e-=3)>-1&&s.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return s}function no(t){if(W.isBuffer(t))return t.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:to(t).length}function jc(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}function Jc(t,e,n,r){return jc(to(e,t.length-n),t,n,r)}function Vc(t,e,n,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?Wc(t,e,n,r):typeof e=="string"?Hc(t,e):zc(t,e)}W.prototype.write=function(e,n,r){n===void 0?(r=this.length,n=0):r===void 0&&typeof n=="string"?(r=this.length,n=0):isFinite(n)&&(n=n|0,isFinite(r)?r=r|0:r=void 0);var a=this.length-n;if((r===void 0||r>a)&&(r=a),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");return Jc(this,e,n,r)};W.prototype.slice=function(e,n){var r=this.length;e=~~e,n=n===void 0?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var a;if(W.TYPED_ARRAY_SUPPORT)a=this.subarray(e,n),a.__proto__=W.prototype;else{var s=n-e;a=new W(s,void 0);for(var d=0;d<s;++d)a[d]=this[d+e]}return a};W.prototype.copy=function(e,n,r,a){if(r||(r=0),!a&&a!==0&&(a=this.length),n>=e.length&&(n=e.length),n||(n=0),a>0&&a<r&&(a=r),a===r||e.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-n<a-r&&(a=e.length-n+r);var s=a-r,d;if(this===e&&r<n&&n<a)for(d=s-1;d>=0;--d)e[d+n]=this[d+r];else if(s<1e3||!W.TYPED_ARRAY_SUPPORT)for(d=0;d<s;++d)e[d+n]=this[d+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),n);return s};W.prototype.fill=function(e,n,r){if(typeof e=="string"){if(typeof n=="string"?(n=0,r=this.length):typeof r=="string"&&(r=this.length),e.length===1){var a=e.charCodeAt(0);a<256&&(e=a)}}else typeof e=="number"&&(e=e&255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var s;if(typeof e=="number")for(s=n;s<r;++s)this[s]=e;else{var d=W.isBuffer(e)?e:new W(e),g=d.length;for(s=0;s<r-n;++s)this[s+n]=d[s%g]}return this};W.concat=function(e,n){if(!qc(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return et(null,0);var r;if(n===void 0)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var a=eo(null,n),s=0;for(r=0;r<e.length;++r){var d=e[r];if(!W.isBuffer(d))throw new TypeError('"list" argument must be an Array of Buffers');d.copy(a,s),s+=d.length}return a};W.byteLength=no;W.prototype._isBuffer=!0;W.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};ze.alloc=function(t){var e=new W(t);return e.fill(0),e};ze.from=function(t){return new W(t)};var Ne={},zn,Kc=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ne.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ne.getSymbolTotalCodewords=function(e){return Kc[e]};Ne.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Ne.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');zn=e};Ne.isKanjiModeEnabled=function(){return typeof zn!="undefined"};Ne.toSJIS=function(e){return zn(e)};var Bt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");var r=n.toLowerCase();switch(r){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit!="undefined"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}})(Bt);function ro(){this.buffer=[],this.length=0}ro.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Qc=ro,Nr=ze;function mt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=Nr.alloc(t*t),this.reservedBit=Nr.alloc(t*t)}mt.prototype.set=function(t,e,n,r){var a=t*this.size+e;this.data[a]=n,r&&(this.reservedBit[a]=!0)};mt.prototype.get=function(t,e){return this.data[t*this.size+e]};mt.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};mt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var Yc=mt,io={};(function(t){var e=Ne.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];for(var a=Math.floor(r/7)+2,s=e(r),d=s===145?26:Math.ceil((s-13)/(2*a-2))*2,g=[s-7],_=1;_<a-1;_++)g[_]=g[_-1]-d;return g.push(6),g.reverse()},t.getPositions=function(r){for(var a=[],s=t.getRowColCoords(r),d=s.length,g=0;g<d;g++)for(var _=0;_<d;_++)g===0&&_===0||g===0&&_===d-1||g===d-1&&_===0||a.push([s[g],s[_]]);return a}})(io);var oo={},Gc=Ne.getSymbolSize,Br=7;oo.getPositions=function(e){var n=Gc(e);return[[0,0],[n-Br,0],[0,n-Br]]};var so={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){for(var s=a.size,d=0,g=0,_=0,b=null,m=null,C=0;C<s;C++){g=_=0,b=m=null;for(var A=0;A<s;A++){var I=a.get(C,A);I===b?g++:(g>=5&&(d+=e.N1+(g-5)),b=I,g=1),I=a.get(A,C),I===m?_++:(_>=5&&(d+=e.N1+(_-5)),m=I,_=1)}g>=5&&(d+=e.N1+(g-5)),_>=5&&(d+=e.N1+(_-5))}return d},t.getPenaltyN2=function(a){for(var s=a.size,d=0,g=0;g<s-1;g++)for(var _=0;_<s-1;_++){var b=a.get(g,_)+a.get(g,_+1)+a.get(g+1,_)+a.get(g+1,_+1);(b===4||b===0)&&d++}return d*e.N2},t.getPenaltyN3=function(a){for(var s=a.size,d=0,g=0,_=0,b=0;b<s;b++){g=_=0;for(var m=0;m<s;m++)g=g<<1&2047|a.get(b,m),m>=10&&(g===1488||g===93)&&d++,_=_<<1&2047|a.get(m,b),m>=10&&(_===1488||_===93)&&d++}return d*e.N3},t.getPenaltyN4=function(a){for(var s=0,d=a.data.length,g=0;g<d;g++)s+=a.data[g];var _=Math.abs(Math.ceil(s*100/d/5)-10);return _*e.N4};function n(r,a,s){switch(r){case t.Patterns.PATTERN000:return(a+s)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(a+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return a*s%2+a*s%3===0;case t.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case t.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,s){for(var d=s.size,g=0;g<d;g++)for(var _=0;_<d;_++)s.isReserved(_,g)||s.xor(_,g,n(a,_,g))},t.getBestMask=function(a,s){for(var d=Object.keys(t.Patterns).length,g=0,_=1/0,b=0;b<d;b++){s(b),t.applyMask(b,a);var m=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(b,a),m<_&&(_=m,g=b)}return g}})(so);var Lt={},qe=Bt,yt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],wt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Lt.getBlocksCount=function(e,n){switch(n){case qe.L:return yt[(e-1)*4+0];case qe.M:return yt[(e-1)*4+1];case qe.Q:return yt[(e-1)*4+2];case qe.H:return yt[(e-1)*4+3];default:return}};Lt.getTotalCodewordsCount=function(e,n){switch(n){case qe.L:return wt[(e-1)*4+0];case qe.M:return wt[(e-1)*4+1];case qe.Q:return wt[(e-1)*4+2];case qe.H:return wt[(e-1)*4+3];default:return}};var ao={},Pt={},co=ze,ut=co.alloc(512),xt=co.alloc(256);(function(){for(var e=1,n=0;n<255;n++)ut[n]=e,xt[e]=n,e<<=1,e&256&&(e^=285);for(n=255;n<512;n++)ut[n]=ut[n-255]})();Pt.log=function(e){if(e<1)throw new Error("log("+e+")");return xt[e]};Pt.exp=function(e){return ut[e]};Pt.mul=function(e,n){return e===0||n===0?0:ut[xt[e]+xt[n]]};(function(t){var e=ze,n=Pt;t.mul=function(a,s){for(var d=e.alloc(a.length+s.length-1),g=0;g<a.length;g++)for(var _=0;_<s.length;_++)d[g+_]^=n.mul(a[g],s[_]);return d},t.mod=function(a,s){for(var d=e.from(a);d.length-s.length>=0;){for(var g=d[0],_=0;_<s.length;_++)d[_]^=n.mul(s[_],g);for(var b=0;b<d.length&&d[b]===0;)b++;d=d.slice(b)}return d},t.generateECPolynomial=function(a){for(var s=e.from([1]),d=0;d<a;d++)s=t.mul(s,[1,n.exp(d)]);return s}})(ao);var Lr=ze,lo=ao,Zc=Ho.Buffer;function jn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}jn.prototype.initialize=function(e){this.degree=e,this.genPoly=lo.generateECPolynomial(this.degree)};jn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var n=Lr.alloc(this.degree),r=Zc.concat([e,n],e.length+this.degree),a=lo.mod(r,this.genPoly),s=this.degree-a.length;if(s>0){var d=Lr.alloc(this.degree);return a.copy(d,s),d}return a};var Xc=jn,fo={},je={},Jn={};Jn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Pe={},uo="[0-9]+",el="[A-Z $%*+\\-./:]+",pt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";pt=pt.replace(/u/g,"\\u");var tl="(?:(?![A-Z0-9 $%*+\\-./:]|"+pt+`)(?:.|[\r
]))+`;Pe.KANJI=new RegExp(pt,"g");Pe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Pe.BYTE=new RegExp(tl,"g");Pe.NUMERIC=new RegExp(uo,"g");Pe.ALPHANUMERIC=new RegExp(el,"g");var nl=new RegExp("^"+pt+"$"),rl=new RegExp("^"+uo+"$"),il=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pe.testKanji=function(e){return nl.test(e)};Pe.testNumeric=function(e){return rl.test(e)};Pe.testAlphanumeric=function(e){return il.test(e)};(function(t){var e=Jn,n=Pe;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,d){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?s.ccBits[0]:d<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");var s=a.toLowerCase();switch(s){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(s,d){if(t.isValid(s))return s;try{return r(s)}catch{return d}}})(je);(function(t){var e=Ne,n=Lt,r=Bt,a=je,s=Jn,d=Hn,g=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,_=e.getBCHDigit(g);function b(I,R,N){for(var v=1;v<=40;v++)if(R<=t.getCapacity(v,N,I))return v}function m(I,R){return a.getCharCountIndicator(I,R)+4}function C(I,R){var N=0;return I.forEach(function(v){var E=m(v.mode,R);N+=E+v.getBitsLength()}),N}function A(I,R){for(var N=1;N<=40;N++){var v=C(I,N);if(v<=t.getCapacity(N,R,a.MIXED))return N}}t.from=function(R,N){return s.isValid(R)?parseInt(R,10):N},t.getCapacity=function(R,N,v){if(!s.isValid(R))throw new Error("Invalid QR Code version");typeof v=="undefined"&&(v=a.BYTE);var E=e.getSymbolTotalCodewords(R),k=n.getTotalCodewordsCount(R,N),M=(E-k)*8;if(v===a.MIXED)return M;var T=M-m(v,R);switch(v){case a.NUMERIC:return Math.floor(T/10*3);case a.ALPHANUMERIC:return Math.floor(T/11*2);case a.KANJI:return Math.floor(T/13);case a.BYTE:default:return Math.floor(T/8)}},t.getBestVersionForData=function(R,N){var v,E=r.from(N,r.M);if(d(R)){if(R.length>1)return A(R,E);if(R.length===0)return 1;v=R[0]}else v=R;return b(v.mode,v.getLength(),E)},t.getEncodedBits=function(R){if(!s.isValid(R)||R<7)throw new Error("Invalid QR Code version");for(var N=R<<12;e.getBCHDigit(N)-_>=0;)N^=g<<e.getBCHDigit(N)-_;return R<<12|N}})(fo);var ho={},xn=Ne,po=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,ol=1<<14|1<<12|1<<10|1<<4|1<<1,Pr=xn.getBCHDigit(po);ho.getEncodedBits=function(e,n){for(var r=e.bit<<3|n,a=r<<10;xn.getBCHDigit(a)-Pr>=0;)a^=po<<xn.getBCHDigit(a)-Pr;return(r<<10|a)^ol};var go={},sl=je;function tt(t){this.mode=sl.NUMERIC,this.data=t.toString()}tt.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};tt.prototype.getLength=function(){return this.data.length};tt.prototype.getBitsLength=function(){return tt.getBitsLength(this.data.length)};tt.prototype.write=function(e){var n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),e.put(a,10);var s=this.data.length-n;s>0&&(r=this.data.substr(n),a=parseInt(r,10),e.put(a,s*3+1))};var al=tt,cl=je,ln=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function nt(t){this.mode=cl.ALPHANUMERIC,this.data=t}nt.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};nt.prototype.getLength=function(){return this.data.length};nt.prototype.getBitsLength=function(){return nt.getBitsLength(this.data.length)};nt.prototype.write=function(e){var n;for(n=0;n+2<=this.data.length;n+=2){var r=ln.indexOf(this.data[n])*45;r+=ln.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(ln.indexOf(this.data[n]),6)};var ll=nt,fl=ze,ul=je;function rt(t){this.mode=ul.BYTE,this.data=fl.from(t)}rt.getBitsLength=function(e){return e*8};rt.prototype.getLength=function(){return this.data.length};rt.prototype.getBitsLength=function(){return rt.getBitsLength(this.data.length)};rt.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var hl=rt,dl=je,pl=Ne;function it(t){this.mode=dl.KANJI,this.data=t}it.getBitsLength=function(e){return e*13};it.prototype.getLength=function(){return this.data.length};it.prototype.getBitsLength=function(){return it.getBitsLength(this.data.length)};it.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=pl.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var gl=it,vo={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,a){var s={},d={};d[r]=0;var g=e.PriorityQueue.make();g.push(r,0);for(var _,b,m,C,A,I,R,N,v;!g.empty();){_=g.pop(),b=_.value,C=_.cost,A=n[b]||{};for(m in A)A.hasOwnProperty(m)&&(I=A[m],R=C+I,N=d[m],v=typeof d[m]=="undefined",(v||N>R)&&(d[m]=R,g.push(m,R),s[m]=b))}if(typeof a!="undefined"&&typeof d[a]=="undefined"){var E=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],s=r;s;)a.push(s),s=n[s];return a.reverse(),a},find_path:function(n,r,a){var s=e.single_source_shortest_paths(n,r,a);return e.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,a={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(a[s]=r[s]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(vo);(function(t){var e=je,n=al,r=ll,a=hl,s=gl,d=Pe,g=Ne,_=vo.exports;function b(E){return unescape(encodeURIComponent(E)).length}function m(E,k,M){for(var T=[],L;(L=E.exec(M))!==null;)T.push({data:L[0],index:L.index,mode:k,length:L[0].length});return T}function C(E){var k=m(d.NUMERIC,e.NUMERIC,E),M=m(d.ALPHANUMERIC,e.ALPHANUMERIC,E),T,L;g.isKanjiModeEnabled()?(T=m(d.BYTE,e.BYTE,E),L=m(d.KANJI,e.KANJI,E)):(T=m(d.BYTE_KANJI,e.BYTE,E),L=[]);var D=k.concat(M,T,L);return D.sort(function(F,q){return F.index-q.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function A(E,k){switch(k){case e.NUMERIC:return n.getBitsLength(E);case e.ALPHANUMERIC:return r.getBitsLength(E);case e.KANJI:return s.getBitsLength(E);case e.BYTE:return a.getBitsLength(E)}}function I(E){return E.reduce(function(k,M){var T=k.length-1>=0?k[k.length-1]:null;return T&&T.mode===M.mode?(k[k.length-1].data+=M.data,k):(k.push(M),k)},[])}function R(E){for(var k=[],M=0;M<E.length;M++){var T=E[M];switch(T.mode){case e.NUMERIC:k.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:k.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:k.push([T,{data:T.data,mode:e.BYTE,length:b(T.data)}]);break;case e.BYTE:k.push([{data:T.data,mode:e.BYTE,length:b(T.data)}])}}return k}function N(E,k){for(var M={},T={start:{}},L=["start"],D=0;D<E.length;D++){for(var F=E[D],q=[],J=0;J<F.length;J++){var w=F[J],o=""+D+J;q.push(o),M[o]={node:w,lastCount:0},T[o]={};for(var c=0;c<L.length;c++){var u=L[c];M[u]&&M[u].node.mode===w.mode?(T[u][o]=A(M[u].lastCount+w.length,w.mode)-A(M[u].lastCount,w.mode),M[u].lastCount+=w.length):(M[u]&&(M[u].lastCount=w.length),T[u][o]=A(w.length,w.mode)+4+e.getCharCountIndicator(w.mode,k))}}L=q}for(c=0;c<L.length;c++)T[L[c]].end=0;return{map:T,table:M}}function v(E,k){var M,T=e.getBestModeForData(E);if(M=e.from(k,T),M!==e.BYTE&&M.bit<T.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(T));switch(M===e.KANJI&&!g.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new n(E);case e.ALPHANUMERIC:return new r(E);case e.KANJI:return new s(E);case e.BYTE:return new a(E)}}t.fromArray=function(k){return k.reduce(function(M,T){return typeof T=="string"?M.push(v(T,null)):T.data&&M.push(v(T.data,T.mode)),M},[])},t.fromString=function(k,M){for(var T=C(k,g.isKanjiModeEnabled()),L=R(T),D=N(L,M),F=_.find_path(D.map,"start","end"),q=[],J=1;J<F.length-1;J++)q.push(D.table[F[J]].node);return t.fromArray(I(q))},t.rawSplit=function(k){return t.fromArray(C(k,g.isKanjiModeEnabled()))}})(go);var Ur=ze,Ut=Ne,fn=Bt,vl=Qc,ml=Yc,_l=io,yl=oo,Sn=so,Cn=Lt,wl=Xc,St=fo,bl=ho,Ml=je,un=go,El=Hn;function xl(t,e){for(var n=t.size,r=yl.getPositions(e),a=0;a<r.length;a++)for(var s=r[a][0],d=r[a][1],g=-1;g<=7;g++)if(!(s+g<=-1||n<=s+g))for(var _=-1;_<=7;_++)d+_<=-1||n<=d+_||(g>=0&&g<=6&&(_===0||_===6)||_>=0&&_<=6&&(g===0||g===6)||g>=2&&g<=4&&_>=2&&_<=4?t.set(s+g,d+_,!0,!0):t.set(s+g,d+_,!1,!0))}function Sl(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Cl(t,e){for(var n=_l.getPositions(e),r=0;r<n.length;r++)for(var a=n[r][0],s=n[r][1],d=-2;d<=2;d++)for(var g=-2;g<=2;g++)d===-2||d===2||g===-2||g===2||d===0&&g===0?t.set(a+d,s+g,!0,!0):t.set(a+d,s+g,!1,!0)}function Rl(t,e){for(var n=t.size,r=St.getEncodedBits(e),a,s,d,g=0;g<18;g++)a=Math.floor(g/3),s=g%3+n-8-3,d=(r>>g&1)===1,t.set(a,s,d,!0),t.set(s,a,d,!0)}function hn(t,e,n){var r=t.size,a=bl.getEncodedBits(e,n),s,d;for(s=0;s<15;s++)d=(a>>s&1)===1,s<6?t.set(s,8,d,!0):s<8?t.set(s+1,8,d,!0):t.set(r-15+s,8,d,!0),s<8?t.set(8,r-s-1,d,!0):s<9?t.set(8,15-s-1+1,d,!0):t.set(8,15-s-1,d,!0);t.set(r-8,8,1,!0)}function kl(t,e){for(var n=t.size,r=-1,a=n-1,s=7,d=0,g=n-1;g>0;g-=2)for(g===6&&g--;;){for(var _=0;_<2;_++)if(!t.isReserved(a,g-_)){var b=!1;d<e.length&&(b=(e[d]>>>s&1)===1),t.set(a,g-_,b),s--,s===-1&&(d++,s=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function Tl(t,e,n){var r=new vl;n.forEach(function(b){r.put(b.mode.bit,4),r.put(b.getLength(),Ml.getCharCountIndicator(b.mode,t)),b.write(r)});var a=Ut.getSymbolTotalCodewords(t),s=Cn.getTotalCodewordsCount(t,e),d=(a-s)*8;for(r.getLengthInBits()+4<=d&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);for(var g=(d-r.getLengthInBits())/8,_=0;_<g;_++)r.put(_%2?17:236,8);return Al(r,t,e)}function Al(t,e,n){for(var r=Ut.getSymbolTotalCodewords(e),a=Cn.getTotalCodewordsCount(e,n),s=r-a,d=Cn.getBlocksCount(e,n),g=r%d,_=d-g,b=Math.floor(r/d),m=Math.floor(s/d),C=m+1,A=b-m,I=new wl(A),R=0,N=new Array(d),v=new Array(d),E=0,k=Ur.from(t.buffer),M=0;M<d;M++){var T=M<_?m:C;N[M]=k.slice(R,R+T),v[M]=I.encode(N[M]),R+=T,E=Math.max(E,T)}var L=Ur.alloc(r),D=0,F,q;for(F=0;F<E;F++)for(q=0;q<d;q++)F<N[q].length&&(L[D++]=N[q][F]);for(F=0;F<A;F++)for(q=0;q<d;q++)L[D++]=v[q][F];return L}function Il(t,e,n,r){var a;if(El(t))a=un.fromArray(t);else if(typeof t=="string"){var s=e;if(!s){var d=un.rawSplit(t);s=St.getBestVersionForData(d,n)}a=un.fromString(t,s||40)}else throw new Error("Invalid data");var g=St.getBestVersionForData(a,n);if(!g)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=g;else if(e<g)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+g+`.
`);var _=Tl(e,n,a),b=Ut.getSymbolSize(e),m=new ml(b);return xl(m,e),Sl(m),Cl(m,e),hn(m,n,0),e>=7&&Rl(m,e),kl(m,_),isNaN(r)&&(r=Sn.getBestMask(m,hn.bind(null,m,n))),Sn.applyMask(r,m),hn(m,n,r),{modules:m,version:e,errorCorrectionLevel:n,maskPattern:r,segments:a}}Xi.create=function(e,n){if(typeof e=="undefined"||e==="")throw new Error("No input text");var r=fn.M,a,s;return typeof n!="undefined"&&(r=fn.from(n.errorCorrectionLevel,fn.M),a=St.from(n.version),s=Sn.from(n.maskPattern),n.toSJISFunc&&Ut.setToSJISFunction(n.toSJISFunc)),Il(e,a,r,s)};var mo={},Vn={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");var r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");var a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var a=typeof r.margin=="undefined"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,d=r.scale||4;return{width:s,scale:s?4:d,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){var s=t.getScale(r,a);return Math.floor((r+a.margin*2)*s)},t.qrToImageData=function(r,a,s){for(var d=a.modules.size,g=a.modules.data,_=t.getScale(d,s),b=Math.floor((d+s.margin*2)*_),m=s.margin*_,C=[s.color.light,s.color.dark],A=0;A<b;A++)for(var I=0;I<b;I++){var R=(A*b+I)*4,N=s.color.light;if(A>=m&&I>=m&&A<b-m&&I<b-m){var v=Math.floor((A-m)/_),E=Math.floor((I-m)/_);N=C[g[v*d+E]?1:0]}r[R++]=N.r,r[R++]=N.g,r[R++]=N.b,r[R]=N.a}}})(Vn);(function(t){var e=Vn;function n(a,s,d){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=d,s.width=d,s.style.height=d+"px",s.style.width=d+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,d,g){var _=g,b=d;typeof _=="undefined"&&(!d||!d.getContext)&&(_=d,d=void 0),d||(b=r()),_=e.getOptions(_);var m=e.getImageWidth(s.modules.size,_),C=b.getContext("2d"),A=C.createImageData(m,m);return e.qrToImageData(A.data,s,_),n(C,b,m),C.putImageData(A,0,0),b},t.renderToDataURL=function(s,d,g){var _=g;typeof _=="undefined"&&(!d||!d.getContext)&&(_=d,d=void 0),_||(_={});var b=t.render(s,d,_),m=_.type||"image/png",C=_.rendererOpts||{};return b.toDataURL(m,C.quality)}})(mo);var _o={},Ol=Vn;function Dr(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function dn(t,e,n){var r=t+e;return typeof n!="undefined"&&(r+=" "+n),r}function Nl(t,e,n){for(var r="",a=0,s=!1,d=0,g=0;g<t.length;g++){var _=Math.floor(g%e),b=Math.floor(g/e);!_&&!s&&(s=!0),t[g]?(d++,g>0&&_>0&&t[g-1]||(r+=s?dn("M",_+n,.5+b+n):dn("m",a,0),a=0,s=!1),_+1<e&&t[g+1]||(r+=dn("h",d),d=0)):a++}return r}_o.render=function(e,n,r){var a=Ol.getOptions(n),s=e.modules.size,d=e.modules.data,g=s+a.margin*2,_=a.color.light.a?"<path "+Dr(a.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",b="<path "+Dr(a.color.dark,"stroke")+' d="'+Nl(d,s,a.margin)+'"/>',m='viewBox="0 0 '+g+" "+g+'"',C=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",A='<svg xmlns="http://www.w3.org/2000/svg" '+C+m+' shape-rendering="crispEdges">'+_+b+`</svg>
`;return typeof r=="function"&&r(null,A),A};var Bl=Uc,Rn=Xi,yo=mo,Ll=_o;function Kn(t,e,n,r,a){var s=[].slice.call(arguments,1),d=s.length,g=typeof s[d-1]=="function";if(!g&&!Bl())throw new Error("Callback required as last argument");if(g){if(d<2)throw new Error("Too few arguments provided");d===2?(a=n,n=e,e=r=void 0):d===3&&(e.getContext&&typeof a=="undefined"?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(n=e,e=r=void 0):d===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(b,m){try{var C=Rn.create(n,r);b(t(C,e,r))}catch(A){m(A)}})}try{var _=Rn.create(n,r);a(null,t(_,e,r))}catch(b){a(b)}}vt.create=Rn.create;vt.toCanvas=Kn.bind(null,yo.render);vt.toDataURL=Kn.bind(null,yo.renderToDataURL);vt.toString=Kn.bind(null,function(t,e,n){return Ll.render(t,n)});var Pl=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(a){t.addRange(a)}),e&&e.focus()}},Ul=Pl,qr={"text/plain":"Text","text/html":"Url",default:"Text"},Dl="Copy to clipboard: #{key}, Enter";function ql(t){var e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function Fl(t,e){var n,r,a,s,d,g,_=!1;e||(e={}),n=e.debug||!1;try{a=Ul(),s=document.createRange(),d=document.getSelection(),g=document.createElement("span"),g.textContent=t,g.style.all="unset",g.style.position="fixed",g.style.top=0,g.style.clip="rect(0, 0, 0, 0)",g.style.whiteSpace="pre",g.style.webkitUserSelect="text",g.style.MozUserSelect="text",g.style.msUserSelect="text",g.style.userSelect="text",g.addEventListener("copy",function(m){if(m.stopPropagation(),e.format)if(m.preventDefault(),typeof m.clipboardData=="undefined"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var C=qr[e.format]||qr.default;window.clipboardData.setData(C,t)}else m.clipboardData.clearData(),m.clipboardData.setData(e.format,t);e.onCopy&&(m.preventDefault(),e.onCopy(m.clipboardData))}),document.body.appendChild(g),s.selectNodeContents(g),d.addRange(s);var b=document.execCommand("copy");if(!b)throw new Error("copy command was unsuccessful");_=!0}catch(m){n&&console.error("unable to copy using execCommand: ",m),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),_=!0}catch(C){n&&console.error("unable to copy using clipboardData: ",C),n&&console.error("falling back to prompt"),r=ql("message"in e?e.message:Dl),window.prompt(r,t)}}finally{d&&(typeof d.removeRange=="function"?d.removeRange(s):d.removeAllRanges()),g&&document.body.removeChild(g),a()}return _}var $l=Fl,wo={},Be={},Q,bo,ht,Qn,Mo,Fr,Yn,Eo,De={},Dt=[],Hl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ue(t,e){for(var n in e)t[n]=e[n];return t}function xo(t){var e=t.parentNode;e&&e.removeChild(t)}function kn(t,e,n){var r,a=arguments,s={};for(r in e)r!=="key"&&r!=="ref"&&(s[r]=e[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(a[r]);if(n!=null&&(s.children=n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)s[r]===void 0&&(s[r]=t.defaultProps[r]);return Ct(t,s,e&&e.key,e&&e.ref,null)}function Ct(t,e,n,r,a){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a};return a==null&&(s.__v=s),Q.vnode&&Q.vnode(s),s}function Wl(){return{}}function qt(t){return t.children}function dt(t,e){this.props=t,this.context=e}function gt(t,e){if(e==null)return t.__?gt(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?gt(t):null}function So(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return So(t)}}function bt(t){(!t.__d&&(t.__d=!0)&&ht.push(t)&&!Qn++||Fr!==Q.debounceRendering)&&((Fr=Q.debounceRendering)||Mo)(zl)}function zl(){for(var t;Qn=ht.length;)t=ht.sort(function(e,n){return e.__v.__b-n.__v.__b}),ht=[],t.some(function(e){var n,r,a,s,d,g,_;e.__d&&(g=(d=(n=e).__v).__e,(_=n.__P)&&(r=[],(a=Ue({},d)).__v=a,s=Zn(_,d,a,n.__n,_.ownerSVGElement!==void 0,null,r,g==null?gt(d):g),Ro(r,d),s!=g&&So(d)))})}function Co(t,e,n,r,a,s,d,g,_){var b,m,C,A,I,R,N,v=n&&n.__k||Dt,E=v.length;if(g==De&&(g=s!=null?s[0]:E?gt(n,0):null),b=0,e.__k=Gn(e.__k,function(k){if(k!=null){if(k.__=e,k.__b=e.__b+1,(C=v[b])===null||C&&k.key==C.key&&k.type===C.type)v[b]=void 0;else for(m=0;m<E;m++){if((C=v[m])&&k.key==C.key&&k.type===C.type){v[m]=void 0;break}C=null}if(A=Zn(t,k,C=C||De,r,a,s,d,g,_),(m=k.ref)&&C.ref!=m&&(N||(N=[]),C.ref&&N.push(C.ref,null,k),N.push(m,k.__c||A,k)),A!=null){var M;if(R==null&&(R=A),k.__d!==void 0)M=k.__d,k.__d=void 0;else if(s==C||A!=g||A.parentNode==null){e:if(g==null||g.parentNode!==t)t.appendChild(A),M=null;else{for(I=g,m=0;(I=I.nextSibling)&&m<E;m+=2)if(I==A)break e;t.insertBefore(A,g),M=g}e.type=="option"&&(t.value="")}g=M!==void 0?M:A.nextSibling,typeof e.type=="function"&&(e.__d=g)}else g&&C.__e==g&&g.parentNode!=t&&(g=gt(C))}return b++,k}),e.__e=R,s!=null&&typeof e.type!="function")for(b=s.length;b--;)s[b]!=null&&xo(s[b]);for(b=E;b--;)v[b]!=null&&Xn(v[b],v[b]);if(N)for(b=0;b<N.length;b++)ko(N[b],N[++b],N[++b])}function Gn(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)Gn(t[r],e,n);else n.push(e?e(typeof t=="string"||typeof t=="number"?Ct(null,t,null,null,t):t.__e!=null||t.__c!=null?Ct(t.type,t.props,t.key,null,t.__v):t):t);return n}function jl(t,e,n,r,a){var s;for(s in n)s==="children"||s==="key"||s in e||Rt(t,s,null,n[s],r);for(s in e)a&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||Rt(t,s,e[s],n[s],r)}function $r(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&Hl.test(e)===!1?n+"px":n==null?"":n}function Rt(t,e,n,r,a){var s,d,g,_,b;if(a?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(s=t.style,typeof n=="string")s.cssText=n;else{if(typeof r=="string"&&(s.cssText="",r=null),r)for(_ in r)n&&_ in n||$r(s,_,"");if(n)for(b in n)r&&n[b]===r[b]||$r(s,b,n[b])}else e[0]==="o"&&e[1]==="n"?(d=e!==(e=e.replace(/Capture$/,"")),g=e.toLowerCase(),e=(g in t?g:e).slice(2),n?(r||t.addEventListener(e,Hr,d),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,Hr,d)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!a&&e in t?t[e]=n==null?"":n:typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,n))}function Hr(t){this.l[t.type](Q.event?Q.event(t):t)}function Zn(t,e,n,r,a,s,d,g,_){var b,m,C,A,I,R,N,v,E,k,M=e.type;if(e.constructor!==void 0)return null;(b=Q.__b)&&b(e);try{e:if(typeof M=="function"){if(v=e.props,E=(b=M.contextType)&&r[b.__c],k=b?E?E.props.value:b.__:r,n.__c?N=(m=e.__c=n.__c).__=m.__E:("prototype"in M&&M.prototype.render?e.__c=m=new M(v,k):(e.__c=m=new dt(v,k),m.constructor=M,m.render=Vl),E&&E.sub(m),m.props=v,m.state||(m.state={}),m.context=k,m.__n=r,C=m.__d=!0,m.__h=[]),m.__s==null&&(m.__s=m.state),M.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Ue({},m.__s)),Ue(m.__s,M.getDerivedStateFromProps(v,m.__s))),A=m.props,I=m.state,C)M.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(M.getDerivedStateFromProps==null&&v!==A&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(v,k),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(v,m.__s,k)===!1||e.__v===n.__v&&!m.__){for(m.props=v,m.state=m.__s,e.__v!==n.__v&&(m.__d=!1),m.__v=e,e.__e=n.__e,e.__k=n.__k,m.__h.length&&d.push(m),b=0;b<e.__k.length;b++)e.__k[b]&&(e.__k[b].__=e);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(v,m.__s,k),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(A,I,R)})}m.context=k,m.props=v,m.state=m.__s,(b=Q.__r)&&b(e),m.__d=!1,m.__v=e,m.__P=t,b=m.render(m.props,m.state,m.context),e.__k=b!=null&&b.type==qt&&b.key==null?b.props.children:Array.isArray(b)?b:[b],m.getChildContext!=null&&(r=Ue(Ue({},r),m.getChildContext())),C||m.getSnapshotBeforeUpdate==null||(R=m.getSnapshotBeforeUpdate(A,I)),Co(t,e,n,r,a,s,d,g,_),m.base=e.__e,m.__h.length&&d.push(m),N&&(m.__E=m.__=null),m.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Jl(n.__e,e,n,r,a,s,d,_);(b=Q.diffed)&&b(e)}catch(T){e.__v=null,Q.__e(T,e,n)}return e.__e}function Ro(t,e){Q.__c&&Q.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Q.__e(r,n.__v)}})}function Jl(t,e,n,r,a,s,d,g){var _,b,m,C,A,I=n.props,R=e.props;if(a=e.type==="svg"||a,s!=null){for(_=0;_<s.length;_++)if((b=s[_])!=null&&((e.type===null?b.nodeType===3:b.localName===e.type)||t==b)){t=b,s[_]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(R);t=a?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,R.is&&{is:R.is}),s=null,g=!1}if(e.type===null)I!==R&&t.data!=R&&(t.data=R);else{if(s!=null&&(s=Dt.slice.call(t.childNodes)),m=(I=n.props||De).dangerouslySetInnerHTML,C=R.dangerouslySetInnerHTML,!g){if(I===De)for(I={},A=0;A<t.attributes.length;A++)I[t.attributes[A].name]=t.attributes[A].value;(C||m)&&(C&&m&&C.__html==m.__html||(t.innerHTML=C&&C.__html||""))}jl(t,R,I,a,g),C?e.__k=[]:(e.__k=e.props.children,Co(t,e,n,r,e.type!=="foreignObject"&&a,s,d,De,g)),g||("value"in R&&(_=R.value)!==void 0&&_!==t.value&&Rt(t,"value",_,I.value,!1),"checked"in R&&(_=R.checked)!==void 0&&_!==t.checked&&Rt(t,"checked",_,I.checked,!1))}return t}function ko(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Q.__e(r,n)}}function Xn(t,e,n){var r,a,s;if(Q.unmount&&Q.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ko(r,null,e)),n||typeof t.type=="function"||(n=(a=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(d){Q.__e(d,e)}r.base=r.__P=null}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Xn(r[s],e,n);a!=null&&xo(a)}function Vl(t,e,n){return this.constructor(t,n)}function To(t,e,n){var r,a,s;Q.__&&Q.__(t,e),a=(r=n===Yn)?null:n&&n.__k||e.__k,t=kn(qt,null,[t]),s=[],Zn(e,(r?e:n||e).__k=t,a||De,De,e.ownerSVGElement!==void 0,n&&!r?[n]:a?null:Dt.slice.call(e.childNodes),s,n||De,r),Ro(s,t)}function Kl(t,e){To(t,e,Yn)}function Ql(t,e){var n,r;for(r in e=Ue(Ue({},t.props),e),arguments.length>2&&(e.children=Dt.slice.call(arguments,2)),n={},e)r!=="key"&&r!=="ref"&&(n[r]=e[r]);return Ct(t.type,n,e.key||t.key,e.ref||t.ref,null)}function Yl(t){var e={},n={__c:"__cC"+Eo++,__:t,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,s=this;return this.getChildContext||(a=[],this.getChildContext=function(){return e[n.__c]=s,e},this.shouldComponentUpdate=function(d){s.props.value!==d.value&&a.some(function(g){g.context=d.value,bt(g)})},this.sub=function(d){a.push(d);var g=d.componentWillUnmount;d.componentWillUnmount=function(){a.splice(a.indexOf(d),1),g&&g.call(d)}}),r.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}Q={__e:function(t,e){for(var n,r;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&n.constructor.getDerivedStateFromError!=null&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(t))),n.componentDidCatch!=null&&(r=!0,n.componentDidCatch(t)),r)return bt(n.__E=n)}catch(a){t=a}throw t}},bo=function(t){return t!=null&&t.constructor===void 0},dt.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=Ue({},this.state),typeof t=="function"&&(t=t(n,this.props)),t&&Ue(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),bt(this))},dt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),bt(this))},dt.prototype.render=qt,ht=[],Qn=0,Mo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Yn=De,Eo=0;var Gl=Object.freeze(Object.defineProperty({__proto__:null,render:To,hydrate:Kl,createElement:kn,h:kn,Fragment:qt,createRef:Wl,get isValidElement(){return bo},Component:dt,cloneElement:Ql,createContext:Yl,toChildArray:Gn,_unmount:Xn,get options(){return Q}},Symbol.toStringTag,{value:"Module"})),Ao=Xr(Gl),Ve,Oe,Wr,Ae=Ao,Ge=0,Tn=[],zr=Ae.options.__r,jr=Ae.options.diffed,Jr=Ae.options.__c,Vr=Ae.options.unmount;function Ze(t,e){Ae.options.__h&&Ae.options.__h(Oe,t,Ge||e),Ge=0;var n=Oe.__H||(Oe.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Kr(t){return Ge=1,Io(Oo,t)}function Io(t,e,n){var r=Ze(Ve++,2);return r.__c||(r.__c=Oe,r.__=[n?n(e):Oo(void 0,e),function(a){var s=t(r.__[0],a);r.__[0]!==s&&(r.__[0]=s,r.__c.setState({}))}]),r.__}function Qr(t,e){var n=Ze(Ve++,4);!Ae.options.__s&&er(n.__H,e)&&(n.__=t,n.__H=e,Oe.__h.push(n))}function pn(t,e){var n=Ze(Ve++,7);return er(n.__H,e)?(n.__H=e,n.__h=t,n.__=t()):n.__}function Zl(){Tn.some(function(t){if(t.__P)try{t.__H.__h.forEach(An),t.__H.__h.forEach(In),t.__H.__h=[]}catch(e){return t.__H.__h=[],Ae.options.__e(e,t.__v),!0}}),Tn=[]}function An(t){t.t&&t.t()}function In(t){var e=t.__();typeof e=="function"&&(t.t=e)}function er(t,e){return!t||e.some(function(n,r){return n!==t[r]})}function Oo(t,e){return typeof e=="function"?e(t):e}Ae.options.__r=function(t){zr&&zr(t),Ve=0,(Oe=t.__c).__H&&(Oe.__H.__h.forEach(An),Oe.__H.__h.forEach(In),Oe.__H.__h=[])},Ae.options.diffed=function(t){jr&&jr(t);var e=t.__c;if(e){var n=e.__H;n&&n.__h.length&&(Tn.push(e)!==1&&Wr===Ae.options.requestAnimationFrame||((Wr=Ae.options.requestAnimationFrame)||function(r){var a,s=function(){clearTimeout(d),cancelAnimationFrame(a),setTimeout(r)},d=setTimeout(s,100);typeof window!="undefined"&&(a=requestAnimationFrame(s))})(Zl))}},Ae.options.__c=function(t,e){e.some(function(n){try{n.__h.forEach(An),n.__h=n.__h.filter(function(r){return!r.__||In(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ae.options.__e(r,n.__v)}}),Jr&&Jr(t,e)},Ae.options.unmount=function(t){Vr&&Vr(t);var e=t.__c;if(e){var n=e.__H;if(n)try{n.__.forEach(function(r){return r.t&&r.t()})}catch(r){Ae.options.__e(r,e.__v)}}},Be.useState=Kr,Be.useReducer=Io,Be.useEffect=function(t,e){var n=Ze(Ve++,3);!Ae.options.__s&&er(n.__H,e)&&(n.__=t,n.__H=e,Oe.__H.__h.push(n))},Be.useLayoutEffect=Qr,Be.useRef=function(t){return Ge=5,pn(function(){return{current:t}},[])},Be.useImperativeHandle=function(t,e,n){Ge=6,Qr(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))},Be.useMemo=pn,Be.useCallback=function(t,e){return Ge=8,pn(function(){return t},e)},Be.useContext=function(t){var e=Oe.context[t.__c],n=Ze(Ve++,9);return n.__c=t,e?(n.__==null&&(n.__=!0,e.sub(Oe)),e.props.value):t.__},Be.useDebugValue=function(t,e){Ae.options.useDebugValue&&Ae.options.useDebugValue(e?e(t):t)},Be.useErrorBoundary=function(t){var e=Ze(Ve++,10),n=Kr();return e.__=t,Oe.componentDidCatch||(Oe.componentDidCatch=function(r){e.__&&e.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]};(function(t){var e=Be,n=Ao;function r(i,f){for(var S in f)i[S]=f[S];return i}function a(i,f){for(var S in i)if(S!=="__source"&&!(S in f))return!0;for(var O in f)if(O!=="__source"&&i[O]!==f[O])return!0;return!1}var s=function(i){var f,S;function O(B){var U;return(U=i.call(this,B)||this).isPureReactComponent=!0,U}return S=i,(f=O).prototype=Object.create(S.prototype),f.prototype.constructor=f,f.__proto__=S,O.prototype.shouldComponentUpdate=function(B,U){return a(this.props,B)||a(this.state,U)},O}(n.Component);function d(i,f){function S(B){var U=this.props.ref,$=U==B.ref;return!$&&U&&(U.call?U(null):U.current=null),f?!f(this.props,B)||!$:a(this.props,B)}function O(B){return this.shouldComponentUpdate=S,n.createElement(i,r({},B))}return O.prototype.isReactComponent=!0,O.displayName="Memo("+(i.displayName||i.name)+")",O.t=!0,O}var g=n.options.__b;function _(i){function f(S){var O=r({},S);return delete O.ref,i(O,S.ref)}return f.prototype.isReactComponent=f.t=!0,f.displayName="ForwardRef("+(i.displayName||i.name)+")",f}n.options.__b=function(i){i.type&&i.type.t&&i.ref&&(i.props.ref=i.ref,i.ref=null),g&&g(i)};var b=function(i,f){return i?n.toChildArray(i).reduce(function(S,O,B){return S.concat(f(O,B))},[]):null},m={map:b,forEach:b,count:function(i){return i?n.toChildArray(i).length:0},only:function(i){if((i=n.toChildArray(i)).length!==1)throw new Error("Children.only() expects only one child.");return i[0]},toArray:n.toChildArray},C=n.options.__e;function A(i){return i&&((i=r({},i)).__c=null,i.__k=i.__k&&i.__k.map(A)),i}function I(){this.__u=0,this.o=null,this.__b=null}function R(i){var f=i.__.__c;return f&&f.u&&f.u(i)}function N(i){var f,S,O;function B(U){if(f||(f=i()).then(function($){S=$.default||$},function($){O=$}),O)throw O;if(!S)throw f;return n.createElement(S,U)}return B.displayName="Lazy",B.t=!0,B}function v(){this.i=null,this.l=null}n.options.__e=function(i,f,S){if(i.then){for(var O,B=f;B=B.__;)if((O=B.__c)&&O.__c)return O.__c(i,f.__c)}C(i,f,S)},(I.prototype=new n.Component).__c=function(i,f){var S=this;S.o==null&&(S.o=[]),S.o.push(f);var O=R(S.__v),B=!1,U=function(){B||(B=!0,O?O($):$())};f.__c=f.componentWillUnmount,f.componentWillUnmount=function(){U(),f.__c&&f.__c()};var $=function(){var z;if(!--S.__u)for(S.__v.__k[0]=S.state.u,S.setState({u:S.__b=null});z=S.o.pop();)z.forceUpdate()};S.__u++||S.setState({u:S.__b=S.__v.__k[0]}),i.then(U,U)},I.prototype.render=function(i,f){return this.__b&&(this.__v.__k[0]=A(this.__b),this.__b=null),[n.createElement(n.Component,null,f.u?null:i.children),f.u&&i.fallback]};var E=function(i,f,S){if(++S[1]===S[0]&&i.l.delete(f),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.l.size))for(S=i.i;S;){for(;S.length>3;)S.pop()();if(S[1]<S[0])break;i.i=S=S[2]}};(v.prototype=new n.Component).u=function(i){var f=this,S=R(f.__v),O=f.l.get(i);return O[0]++,function(B){var U=function(){f.props.revealOrder?(O.push(B),E(f,i,O)):B()};S?S(U):U()}},v.prototype.render=function(i){this.i=null,this.l=new Map;var f=n.toChildArray(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&f.reverse();for(var S=f.length;S--;)this.l.set(f[S],this.i=[1,0,this.i]);return i.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var i=this;i.l.forEach(function(f,S){E(i,S,f)})};var k=function(){function i(){}var f=i.prototype;return f.getChildContext=function(){return this.props.context},f.render=function(S){return S.children},i}();function M(i){var f=this,S=i.container,O=n.createElement(k,{context:f.context},i.vnode);return f.s&&f.s!==S&&(f.p.parentNode&&f.s.removeChild(f.p),n._e(f.v),f.h=!1),i.vnode?f.h?(S.__k=f.__k,n.render(O,S),f.__k=S.__k):(f.p=document.createTextNode(""),n.hydrate("",S),S.appendChild(f.p),f.h=!0,f.s=S,n.render(O,S,f.p),f.__k=f.p.__k):f.h&&(f.p.parentNode&&f.s.removeChild(f.p),n._e(f.v)),f.v=O,f.componentWillUnmount=function(){f.p.parentNode&&f.s.removeChild(f.p),n._e(f.v)},null}function T(i,f){return n.createElement(M,{vnode:i,container:f})}var L=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;n.Component.prototype.isReactComponent={};var D=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103;function F(i,f,S){if(f.__k==null)for(;f.firstChild;)f.removeChild(f.firstChild);return n.render(i,f),typeof S=="function"&&S(),i?i.__c:null}var q=n.options.event;function J(i,f){i["UNSAFE_"+f]&&!i[f]&&Object.defineProperty(i,f,{configurable:!1,get:function(){return this["UNSAFE_"+f]},set:function(S){this["UNSAFE_"+f]=S}})}n.options.event=function(i){q&&(i=q(i)),i.persist=function(){};var f=!1,S=!1,O=i.stopPropagation;i.stopPropagation=function(){O.call(i),f=!0};var B=i.preventDefault;return i.preventDefault=function(){B.call(i),S=!0},i.isPropagationStopped=function(){return f},i.isDefaultPrevented=function(){return S},i.nativeEvent=i};var w={configurable:!0,get:function(){return this.class}},o=n.options.vnode;function c(i){return n.createElement.bind(null,i)}function u(i){return!!i&&i.$$typeof===D}function l(i){return u(i)?n.cloneElement.apply(null,arguments):i}function h(i){return!!i.__k&&(n.render(null,i),!0)}function y(i){return i&&(i.base||i.nodeType===1&&i)||null}n.options.vnode=function(i){i.$$typeof=D;var f=i.type,S=i.props;if(f){if(S.class!=S.className&&(w.enumerable="className"in S,S.className!=null&&(S.class=S.className),Object.defineProperty(S,"className",w)),typeof f!="function"){var O,B,U;for(U in S.defaultValue&&S.value!==void 0&&(S.value||S.value===0||(S.value=S.defaultValue),delete S.defaultValue),Array.isArray(S.value)&&S.multiple&&f==="select"&&(n.toChildArray(S.children).forEach(function($){S.value.indexOf($.props.value)!=-1&&($.props.selected=!0)}),delete S.value),S)if(O=L.test(U))break;if(O)for(U in B=i.props={},S)B[L.test(U)?U.replace(/[A-Z0-9]/,"-$&").toLowerCase():U]=S[U]}(function($){var z=i.type,K=i.props;if(K&&typeof z=="string"){var H={};for(var j in K)/^on(Ani|Tra|Tou)/.test(j)&&(K[j.toLowerCase()]=K[j],delete K[j]),H[j.toLowerCase()]=j;if(H.ondoubleclick&&(K.ondblclick=K[H.ondoubleclick],delete K[H.ondoubleclick]),H.onbeforeinput&&(K.onbeforeinput=K[H.onbeforeinput],delete K[H.onbeforeinput]),H.onchange&&(z==="textarea"||z.toLowerCase()==="input"&&!/^fil|che|ra/i.test(K.type))){var ct=H.oninput||"oninput";K[ct]||(K[ct]=K[H.onchange],delete K[H.onchange])}}})(),typeof f=="function"&&!f.m&&f.prototype&&(J(f.prototype,"componentWillMount"),J(f.prototype,"componentWillReceiveProps"),J(f.prototype,"componentWillUpdate"),f.m=!0)}o&&o(i)};var x=function(i,f){return i(f)},p={useState:e.useState,useReducer:e.useReducer,useEffect:e.useEffect,useLayoutEffect:e.useLayoutEffect,useRef:e.useRef,useImperativeHandle:e.useImperativeHandle,useMemo:e.useMemo,useCallback:e.useCallback,useContext:e.useContext,useDebugValue:e.useDebugValue,version:"16.8.0",Children:m,render:F,hydrate:F,unmountComponentAtNode:h,createPortal:T,createElement:n.createElement,createContext:n.createContext,createFactory:c,cloneElement:l,createRef:n.createRef,Fragment:n.Fragment,isValidElement:u,findDOMNode:y,Component:n.Component,PureComponent:s,memo:d,forwardRef:_,unstable_batchedUpdates:x,Suspense:I,SuspenseList:v,lazy:N};Object.keys(e).forEach(function(i){t[i]=e[i]}),t.createElement=n.createElement,t.createContext=n.createContext,t.createRef=n.createRef,t.Fragment=n.Fragment,t.Component=n.Component,t.version="16.8.0",t.Children=m,t.render=F,t.hydrate=function(i,f,S){return n.hydrate(i,f),typeof S=="function"&&S(),i?i.__c:null},t.unmountComponentAtNode=h,t.createPortal=T,t.createFactory=c,t.cloneElement=l,t.isValidElement=u,t.findDOMNode=y,t.PureComponent=s,t.memo=d,t.forwardRef=_,t.unstable_batchedUpdates=x,t.Suspense=I,t.SuspenseList=v,t.lazy=N,t.default=p})(wo);function No(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Ie=Pc,Bo=No(vt),Xl=No($l),P=wo;function ef(t){Bo.toString(t,{type:"terminal"}).then(console.log)}var tf=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function nf(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var rf="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",of="WalletConnect",sf=300,af="rgb(64, 153, 255)",Lo="walletconnect-wrapper",Yr="walletconnect-style-sheet",Po="walletconnect-qrcode-modal",cf="walletconnect-qrcode-close",Uo="walletconnect-qrcode-text",lf="walletconnect-connect-button";function ff(t){return P.createElement("div",{className:"walletconnect-modal__header"},P.createElement("img",{src:rf,className:"walletconnect-modal__headerLogo"}),P.createElement("p",null,of),P.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},P.createElement("div",{id:cf,className:"walletconnect-modal__close__icon"},P.createElement("div",{className:"walletconnect-modal__close__line1"}),P.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function uf(t){return P.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:lf+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var hf="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function df(t){var e=t.color,n=t.href,r=t.name,a=t.logo,s=t.onClick;return P.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:s,rel:"noopener noreferrer",target:"_blank"},P.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),P.createElement("div",{className:"walletconnect-modal__base__row__right"},P.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+a+"') "+e,backgroundSize:"100%"}}),P.createElement("img",{src:hf,className:"walletconnect-modal__base__row__right__caret"})))}function pf(t){var e=t.color,n=t.href,r=t.name,a=t.logo,s=t.onClick,d=window.innerWidth<768?(r.length>8?2.5:2.7)+"vw":"inherit";return P.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:s,rel:"noopener noreferrer",target:"_blank"},P.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+a+"') "+e,backgroundSize:"100%"}}),P.createElement("div",{style:{fontSize:d},className:"walletconnect-connect__button__text"},r))}var gf=5,gn=12;function vf(t){var e=Ie.isAndroid(),n=P.useState(""),r=n[0],a=n[1],s=P.useState(""),d=s[0],g=s[1],_=P.useState(1),b=_[0],m=_[1],C=d?t.links.filter(function(T){return T.name.toLowerCase().includes(d.toLowerCase())}):t.links,A=t.errorMessage,I=d||C.length>gf,R=Math.ceil(C.length/gn),N=[(b-1)*gn+1,b*gn],v=C.length?C.filter(function(T,L){return L+1>=N[0]&&L+1<=N[1]}):[],E=!e&&R>1,k=void 0;function M(T){a(T.target.value),clearTimeout(k),T.target.value?k=setTimeout(function(){g(T.target.value),m(1)},1e3):(a(""),g(""),m(1))}return P.createElement("div",null,P.createElement("p",{id:Uo,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&P.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:r,onChange:M}),P.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":I&&C.length?"__wrap":"")},e?P.createElement(uf,{name:t.text.connect,color:af,href:t.uri,onClick:P.useCallback(function(){Ie.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):v.length?v.map(function(T){var L=T.color,D=T.name,F=T.shortName,q=T.logo,J=Ie.formatIOSMobile(t.uri,T),w=P.useCallback(function(){Ie.saveMobileLinkInfo({name:D,href:J})},[v]);return I?P.createElement(pf,{color:L,href:J,name:F||D,logo:q,onClick:w}):P.createElement(df,{color:L,href:J,name:D,logo:q,onClick:w})}):P.createElement(P.Fragment,null,P.createElement("p",null,A.length?t.errorMessage:!!t.links.length&&!C.length?t.text.no_wallets_found:t.text.loading))),E&&P.createElement("div",{className:"walletconnect-modal__footer"},Array(R).fill(0).map(function(T,L){var D=L+1,F=b===D;return P.createElement("a",{style:{margin:"auto 10px",fontWeight:F?"bold":"normal"},onClick:function(){return m(D)}},D)})))}function mf(t){var e=!!t.message.trim();return P.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var _f=function(t){try{var e="";return Promise.resolve(Bo.toString(t,{margin:0,type:"svg"})).then(function(n){return typeof n=="string"&&(e=n.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(n){return Promise.reject(n)}};function yf(t){var e=P.useState(""),n=e[0],r=e[1],a=P.useState(""),s=a[0],d=a[1];P.useEffect(function(){try{return Promise.resolve(_f(t.uri)).then(function(_){d(_)})}catch(_){Promise.reject(_)}},[]);var g=function(){var _=Xl(t.uri);_?(r(t.text.copied_to_clipboard),setInterval(function(){return r("")},1200)):(r("Error"),setInterval(function(){return r("")},1200))};return P.createElement("div",null,P.createElement("p",{id:Uo,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),P.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),P.createElement("div",{className:"walletconnect-modal__footer"},P.createElement("a",{onClick:g},t.text.copy_to_clipboard)),P.createElement(mf,{message:n}))}function wf(t){var e=Ie.isAndroid(),n=Ie.isMobile(),r=n?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,a=P.useState(!1),s=a[0],d=a[1],g=P.useState(!1),_=g[0],b=g[1],m=P.useState(!n),C=m[0],A=m[1],I={mobile:n,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},R=P.useState(""),N=R[0],v=R[1],E=P.useState(!1),k=E[0],M=E[1],T=P.useState([]),L=T[0],D=T[1],F=P.useState(""),q=F[0],J=F[1],w=function(){_||s||r&&!r.length||L.length>0||P.useEffect(function(){var c=function(){try{if(e)return Promise.resolve();d(!0);var u=nf(function(){var l=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Ie.getWalletRegistryUrl();return Promise.resolve(fetch(l)).then(function(h){return Promise.resolve(h.json()).then(function(y){var x=y.listings,p=n?"mobile":"desktop",i=Ie.getMobileLinkRegistry(Ie.formatMobileRegistry(x,p),r);d(!1),b(!0),J(i.length?"":t.text.no_supported_wallets),D(i);var f=i.length===1;f&&(v(Ie.formatIOSMobile(t.uri,i[0])),A(!0)),M(f)})})},function(l){d(!1),b(!0),J(t.text.something_went_wrong),console.error(l)});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(l){return Promise.reject(l)}};c()})};w();var o=n?C:!C;return P.createElement("div",{id:Po,className:"walletconnect-qrcode__base animated fadeIn"},P.createElement("div",{className:"walletconnect-modal__base"},P.createElement(ff,{onClose:t.onClose}),k&&C?P.createElement("div",{className:"walletconnect-modal__single_wallet"},P.createElement("a",{onClick:function(){return Ie.saveMobileLinkInfo({name:L[0].name,href:N})},href:N,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(k?L[0].name:"")+" \u203A")):e||s||!s&&L.length?P.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(o?" right__selected":"")},P.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),n?P.createElement(P.Fragment,null,P.createElement("a",{onClick:function(){return A(!1),w()}},t.text.mobile),P.createElement("a",{onClick:function(){return A(!0)}},t.text.qrcode)):P.createElement(P.Fragment,null,P.createElement("a",{onClick:function(){return A(!0)}},t.text.qrcode),P.createElement("a",{onClick:function(){return A(!1),w()}},t.text.desktop))):null,P.createElement("div",null,C||!e&&!s&&!L.length?P.createElement(yf,Object.assign({},I)):P.createElement(vf,Object.assign({},I,{links:L,errorMessage:q})))))}var bf={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},Mf={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},Ef={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},xf={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},Sf={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},Cf={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},Rf={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},kf={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},Gr={de:bf,en:Mf,es:Ef,fr:xf,ko:Sf,pt:Cf,zh:Rf,fa:kf};function Tf(){var t=Ie.getDocumentOrThrow(),e=t.getElementById(Yr);e&&t.head.removeChild(e);var n=t.createElement("style");n.setAttribute("id",Yr),n.innerText=tf,t.head.appendChild(n)}function Af(){var t=Ie.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",Lo),t.body.appendChild(e),e}function Do(){var t=Ie.getDocumentOrThrow(),e=t.getElementById(Po);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var n=t.getElementById(Lo);n&&t.body.removeChild(n)},sf))}function If(t){return function(){Do(),t&&t()}}function Of(){var t=Ie.getNavigatorOrThrow().language.split("-")[0]||"en";return Gr[t]||Gr.en}function Nf(t,e,n){Tf();var r=Af();P.render(P.createElement(wf,{text:Of(),uri:t,onClose:If(e),qrcodeModalOptions:n}),r)}function Bf(){Do()}var qo=function(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"};function Lf(t,e,n){console.log(t),qo()?ef(t):Nf(t,e,n)}function Pf(){qo()||Bf()}var Uf={open:Lf,close:Pf},Df=Uf;class qf extends ns{constructor(e){super(),this.events=new Va,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc!="undefined"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e){if(this.connected){this.onOpen();return}return new Promise((n,r)=>{this.on("error",a=>{r(a)}),this.on("open",()=>{n()}),this.create(e)})}async close(){typeof this.wc!="undefined"&&(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(n=>this.events.emit("payload",n)).catch(n=>this.events.emit("payload",vn(e.id,n.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)=="undefined"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)!="undefined"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const n={bridge:this.bridge,qrcodeModal:this.qrcode?Df:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)!="undefined"?e.connector:new Lc(n),typeof this.wc=="undefined")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,n="Failed or Rejected Request",r=-32e3){const a={id:e.id,jsonrpc:e.jsonrpc,error:{code:r,message:n}};return this.events.emit("payload",a),a}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(n=>this.events.emit("error",n)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var n,r;if(e){this.events.emit("error",e);return}this.accounts=((n=this.wc)===null||n===void 0?void 0:n.accounts)||[],this.chainId=((r=this.wc)===null||r===void 0?void 0:r.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,n)=>{const{accounts:r,chainId:a}=n.params[0];(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.events.emit("accountsChanged",r)),(!this.chainId||a&&this.chainId!==a)&&(this.chainId=a,this.events.emit("chainChanged",a))})}async sendPayload(e){this.wc=this.register(this.opts);try{const n=await this.wc.unsafeSend(e);return this.sanitizeResponse(n)}catch(n){return this.onError(e,n.message)}}sanitizeResponse(e){return typeof e.error!="undefined"&&typeof e.error.code=="undefined"?vn(e.id,e.error.message):e}}class Hf{constructor(e){this.events=new Wo,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new yr(new qf(e));const n=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(n),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(Un.includes(e.method))return this.signer.request(e);if(typeof this.http=="undefined")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,n){this.request(e).then(r=>n(null,r)).catch(r=>n(r,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const n=ka(e,this.rpc);return typeof n=="undefined"?void 0:new yr(new ds(n))}}export{Hf as default};
